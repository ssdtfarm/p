define("libpage.0.0/password-find-back-2",["lib/components/khValidate/1.0.0/khValidate"],function(t,n,e){function a(t){var n=$("#security");n.val(t[1]),n.attr("name",t[0])}function o(t,n,e){n.hide(),e.show();var a=setInterval(function(){0>=t?(clearInterval(a),n.show(),e.hide()):(t-=1,e.find(".J_countDown").html(t))},1e3)}function i(t,n,e){switch(e){case"ok":t.siblings(".icon-tip-ok").css("top","auto");break;case"error":t.addClass("error").siblings(".error-tips").css("top","auto").find(".tips-info").html(n)}t.on("focus",function(t){t.preventDefault(),$(this).removeClass("error").addClass("focus").siblings(".icon-tip-ok").css("top","-9999px").siblings(".error-tips").css("top","-9999px").find(".tips-info").html("")})}function s(t,n){if(u>=3)return void i(t,"您本次发送手机验证码次数已经用完,请刷新页面重试.","error");u++;var e=cdnConfig.apiPath+"/member/sendphonecode";o(60,$(".J_getPhoneCode"),$(".J_countDownWrap")),$.ajax({url:e,data:{phone:n,h:$("#security").val(),m:$("#security").attr("name"),n:u,r:Math.random()},dataType:"jsonp"}).done(function(n){"succ"==n.status&&(t.siblings(".info-tips").css("top","auto"),a(n.pin))}).fail(function(){i(t,"发送失败，请检查网络是否通畅","error")})}function r(t){var n=cdnConfig.apiPath+"/member/validateiphonecode";$.ajax({url:n,data:{phonecode:t.val()},dataType:"jsonp"}).done(function(n){if("succ"==n.status){var e=$(".J_getPhoneCode").attr("data-phone");window.location.href="http://"+window.location.host+"/passport/findpwdbyphone?phone="+e}else i(t,"验证码错误，请确认。","error")}).fail(function(){i(t,"发送失败，请检查网络是否通畅","error")})}function c(t){$.ajax({url:"/passport/findpwdtwobyemail",type:"post",dataType:"json",data:{email:t}}).done(function(t){(t.code=200)&&($(".J_before_tips").hide(),$(".send-succ").show())}).fail(function(){console.log("error")})}t("../../components/khValidate/1.0.0/khValidate");$(document).on("click",function(){$(".select-list").css("top","-9999px")}),$(".kh-my-select").each(function(){var t=$(this),n=t.find(".select-title "),e=t.find(".select-list"),a=e.find("li");n.on("click",function(t){e.css("top","auto"),t.stopPropagation()}),a.on("click",function(t){var a=$(this).attr("data-value");"1"==a?($(".J_phoneWrap").show(),$(".J_emailWrap").hide()):"2"==a&&($(".J_emailWrap").show(),$(".J_phoneWrap").hide()),n.html($(this).html()),e.css("top","-9999px"),t.stopPropagation()})}),$(document).on("focus",".J_phoneCode",function(){$(this).addClass("focus"),$(this).siblings(".info-tips").hide()}),$(document).on("blur",".J_phoneCode",function(){$(this).removeClass("focus")}),$(".form-content").each(function(){var t=$(this),n=t.find(".J_phoneSubmitBtn"),e=t.find(".J_phoneCode"),a=t.find(".J_getPhoneCode");a.attr("data-phone");n.on("click",function(){var t=$.trim(e.val());""==t?i(e,"请输入验证码","error"):r(e)})}),$(".J_getPhoneCode").on("click",function(){var t=$(this),n=t.siblings(".J_phoneCode"),e=t.attr("data-phone");s(n,e)});var u=0;$(".J_sendMail").on("click",function(){var t=$(this).attr("data-email");c(t)}),$(".send-succ a").on("click",function(){var t=$(".J_sendMail").attr("data-email");if(/@(\w+)./.test(t)){var n=RegExp.$1;switch(n){case"163":window.open("http://www.mail.163.com");break;case"qq":window.open("http://www.mail.qq.com");break;case"189":window.open("http://mail.189.cn");break;case"126":window.open("http://mail.126.com");break;case"sina":window.open("http://mail.sina.com.cn");break;case"hotmail":window.open("http://hotmail.msn.com");break;case"gmail":window.open("http://gmail.google.com");break;case"soho":window.open("http://mail.sohu.net");break;case"139":window.open("http://mail.10086.cn/")}}}),$(function(){function t(){n=a.height(),e=$(window).scrollTop()+$(window).height()-n+"px",$(document.body).height()+n<$(window).height()?(a.css({position:"absolute",marginTop:0,top:e}),a.show()):(a.css({position:"static"}),a.show())}var n=0,e=0,a=$(".member-foot");t(),$(window).scroll(t).resize(t)})}),define("lib/components/khValidate/1.0.0/khValidate",[],function(t,n,e){var a={chkEnName:function(t){var n=/^[a-zA-Z|0-9]{3,20}$/;return n.test(t)},chkCnName:function(t){var n=/^[\u2E80-\u9FFF]{2,20}$/;return n.test(t)},chkIsChinese:function(t){var n=/[\u4E00-\u9FA5\uF900-\uFA2D]/;return n.test(t)},chkUserName:function(t){var n=/^[\u2E80-\u9FFF|0-9|a-zA-Z|_]{2,20}$/;return n.test(t)},chkTelephone:function(t){var n=/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/;return n.test(t)},chkPhone:function(t){var n=/^(13[0-9]|15[0-9]|17[0-9]|18[0-9])\d{8}$/;return n.test(t)},chkPass:function(t){var n=/^[a-zA-Z0-9_-]{6,20}$/;return n.test(t)},chkPassNew:function(t){var n=/^[^\u2E80-\uFFA0\s]{6,20}$/;return n.test(t)},chkNumber:function(t,n){var e;switch(n){case 4:e=/^[0-9]{4}$/;break;case 5:e=/^[0-9]{5}$/;break;case 6:e=/^[0-9]{6}$/;break;case 7:e=/^[0-9]{7}$/;break;case 8:e=/^[0-9]{8}$/;break;case 9:e=/^[0-9]{9}$/;break;case 10:e=/^[0-9]{10}$/;break;case 11:e=/^[0-9]{11}$/;break;case 12:e=/^[0-9]{12}$/;break;case 13:e=/^[0-9]{13}$/;break;case 14:e=/^[0-9]{14}$/;break;case 15:e=/^[0-9]{15}$/;break;case 16:e=/^[0-9]{16}$/;break;case 17:e=/^[0-9]{17}$/;break;case 18:e=/^[0-9]{18}$/;break;default:e=/^[0-9]{6}$/}return e.test(t)},chkAliAcount:function(t){var n=/^[0-9]{11}|^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;return n.test(t)},chkBankName:function(t){var n=/^[\u2E80-\u9FFF]{4,20}$/;return n.test(t)},chkBankAcount:function(t){var n=/^[0-9]{15,23}$/;return n.test(t)},chkBankOrderNum:function(t){var n=/^[0-9]{8,}$/;return n.test(t)},chkPrice:function(t){var n=/^[0-9]{1,10}[\.][0-9]{2}$/;return n.test(t)},chkEmail:function(t){var n=/^([a-zA-Z0-9_\.-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return n.test(t)},chkURL:function(t){var n=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/;return n.test(t)},chkIP:function(t){var n=/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/;return n.test(t)},chkScript:function(t){var n=/^[A-Za-z0-9|_|-|\u4E00-\u9FA5\uF900-\uFA2D|@|#|,|.|;]+$/;return n.test(t)}};e.exports=a});