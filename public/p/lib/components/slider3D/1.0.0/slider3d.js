define(function(require,exports,module){function initSlider(config){function setInter(){iNow++,iNow>aLi.length-1&&(iNow=0),tab()}function tab(){var iSort=iNow;for(Sort(),i=0;iSort>i;i++)aSort.unshift(aSort.pop());sMove()}function Sort(){for(i=0;i<aLi.length;i++)aSort[i]=aPosition[i]}function sMove(){for(i=0;i<aLi.length;i++){aLi[i].index=i;var oDiv=aLi[i].getElementsByTagName("div")[0];startMove(oDiv,{opacity:20}),startMove(aLi[i],aSort[i],function(){one()}),aLi[i].className="",showTitle&&(i==iNow&&""!==aP[iNow].innerHTML?startMove(aP[i],{bottom:0}):startMove(aP[i],{bottom:-120}))}aLi[iNow].className="hove"}function one(){for(i=0;i<aLi.length;i++)if("690px"==aLi[i].style.width){var oDiv=aLi[i].getElementsByTagName("div")[0];startMove(oDiv,{opacity:1})}}function getClass(oParent,sClass){var aElem=document.getElementsByTagName("*"),aClass=[],i=0;for(i=0;i<aElem.length;i++)aElem[i].className==sClass&&aClass.push(aElem[i]);return aClass}function myAddEvent(obj,sEvent,fn){obj.attachEvent?obj.attachEvent("on"+sEvent,function(){fn.call(obj)}):obj.addEventListener(sEvent,fn,!1)}function startMove(obj,json,fnEnd){obj.timer&&clearInterval(obj.timer),obj.timer=setInterval(function(){doMove(obj,json,fnEnd)},30)}function getStyle(obj,attr){return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj,!1)[attr]}function doMove(obj,json,fnEnd){var iCur=0,attr="",bStop=!0;for(attr in json){if(iCur="opacity"==attr?parseInt(100*parseFloat(getStyle(obj,"opacity"))):parseInt(getStyle(obj,attr)),isNaN(iCur)&&(iCur=0),navigator.userAgent.indexOf("MSIE 8.0")>0)var iSpeed=(json[attr]-iCur)/3;else var iSpeed=(json[attr]-iCur)/5;iSpeed=iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed),parseInt(json[attr])!=iCur&&(bStop=!1),"opacity"==attr?(obj.style.filter="alpha(opacity:"+(iCur+iSpeed)+")",obj.style.opacity=(iCur+iSpeed)/100):"zIndex"==attr?obj.style[attr]=iCur+iSpeed:obj.style[attr]=iCur+iSpeed+"px"}bStop&&(clearInterval(obj.timer),obj.timer=null,fnEnd&&fnEnd())}var config=config||{},sNumber=config.number||5,scrollSpeed=config.speed||3e3,warpObj=config.dom||"sliderList_0",showFlag=config.showHide||1,showTitle=config.showTitle||!1,i=iNow=0,timer=null,aSort=[],oBut=document.getElementById(warpObj);showFlag>1?oBut.style.display="none":oBut.style.display="block";var aLi=oBut.getElementsByTagName("li"),aA=oBut.getElementsByTagName("a"),aP=getClass(oBut,"b_tit"),aPosition=[{width:690,height:500,top:0,left:246,zIndex:10},{width:540,height:390,top:55,left:100,zIndex:8},{width:340,height:246,top:124,left:0,zIndex:6},{width:340,height:246,top:124,left:850,zIndex:6},{width:540,height:390,top:55,left:550,zIndex:8}];if(sNumber>5){disNum=sNumber-5;for(var le=0,h=0;h<disNum;h++)le+=600/(parseInt(disNum)+1)+50,aPosition.splice(h+3,0,{width:340,height:246,top:124,left:le,zIndex:2})}for(i=0;i<aLi.length;i++)aLi[i].index=i,aLi[i].style.width=aPosition[i].width+"px",aLi[i].style.height=aPosition[i].height+"px",aLi[i].style.top=aPosition[i].top+"px",aLi[i].style.left=aPosition[i].left+"px",aLi[i].style.zIndex=aPosition[i].zIndex,aSort[i]=aPosition[i],console.log(aP[i].innerHTML),showTitle&&""!==aP[iNow].innerHTML&&"690px"==aLi[i].style.width&&startMove(aP[i],{bottom:0}),myAddEvent(aLi[i],"click",function(){var iSort=this.index;for(iNow=this.index,Sort(),i=0;iSort>i;i++)aSort.unshift(aSort.pop());sMove()});myAddEvent(aA[0],"click",function(){aSort.unshift(aSort.pop()),sMove(),setInter()}),myAddEvent(aA[1],"click",function(){aSort.push(aSort.shift()),sMove(),iNow--,iNow<0&&(iNow=aLi.length-1),tab()}),oBut.onmouseover=function(){clearInterval(timer)},oBut.onmouseout=function(){clearInterval(timer),timer=setInterval(setInter,scrollSpeed)},timer=setInterval(setInter,scrollSpeed),one()}module.exports=initSlider});