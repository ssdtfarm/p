define("libpage.0.0/cashier",["lib/components/slider/1.0.0/slider","lib/components/dialog/1.0.0/dialog","lib/components/dialog/1.0.0/popup","lib/components/dialog/1.0.0/dialog-config","lib/template/tempcashier","lib/components/pickDate/1.0.0/pickDate","lib/components/pickDate/1.0.0/moment"],function(e,t,n){function i(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:null}function a(e,t,n){t.hide(),n.css("display","inline-block"),n.find(".J_countDown").html(e);var i=setInterval(function(){0>=e?(clearInterval(i),t.css("display","inline-block").html("重新获取验证码").attr("lock",!1),n.hide()):(e-=1,n.find(".J_countDown").html(e))},1e3)}function s(e,t,n){"error"===t?(e.addClass("error"),e.siblings(".error-info").find("span").html(n).end().show(),e.siblings(".tips-info").hide()):"ok"===t?e.siblings(".cashier-succ-icon").show():"tips"===t?(e.siblings(".tips-info").find("span").html(n).end().show(),e.siblings(".error-info").hide()):e.siblings(".error-info").hide(),e.on("focus",function(){e.removeClass("error"),e.siblings(".error-info").hide(),e.siblings(".tips-info").hide()})}function o(e,t){e.on("keyup",function(){var n=$(this),i=n.val();if(n.val(i.replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")),i.length>0?e.addClass("focus"):e.hasClass("focus")&&e.removeClass("focus"),/[^\d ]+/.test(i))s(n,"error","银行卡号为16-19位数字，请正确输入"),r(t,!0);else{s(n),i.length>23&&n.val(i.substr(0,23));var a=n.val().replace(/\s/g,""),o=a.length;o>=16&&19>=o?(r(t,!1),h=a,p=a):r(t,!0)}})}function r(e,t){t?e.addClass("go-pay-disable"):e.removeClass("go-pay-disable")}function c(e){w=new l({content:'<p style="padding-top: 10px;"><span class="ui-dialog-loading">Loading..</span>'+e+"</p>"}).showModal()}var l=(e("../../components/slider/1.0.0/slider"),e("../../components/dialog/1.0.0/dialog")),u=e("../../template/tempcashier"),d=e("../../components/pickDate/1.0.0/pickDate");new d({field:document.getElementById("J_datepicker"),trigger:document.getElementById("J_datepicker"),firstDay:1,minDate:new Date("2000-01-01"),maxDate:new Date("2020-12-31"),yearRange:[2e3,2020],position:"left bottom"});$("#J_pickDateBtn").on("click",function(){$(".J_datepicker").trigger("click")}),$(function(){function e(){t=i.height(),n=$(window).scrollTop()+$(window).height()-t+"px",$(document.body).height()<$(window).height()?(i.css({position:"absolute",marginTop:0,top:n}),i.show()):(i.css({position:"static"}),i.show())}var t=0,n=0,i=$(".member-foot");e(),$(window).scroll(e).resize(e)}),function(){var e=(new Date).getTime();if(!(e>14537376e5||14520096e5>e)){var t='<p style="font-size: 16px;font-weight: bold;color:red;">2016迎新电商大促，支付立减10元；</p> <p style="color:red;">（订单满2000元可用，同一微信号只能使用一次；活动时间：2016年1月6日--2016年1月25日）</p>';$(".wx-pay .info .timer").html(t)}}();var f=cdnConfig.pay,h="",p="",m=i("order_id")||"",_=i("child_id")||"",g="",v="",y="",b=0,w=null;!function(){var e=$(".side-nav .nav-item"),t=$(".pay-type");e.each(function(n,i){var a=$(this);a.on("click",function(){a.hasClass("active-item")||(e.removeClass("active-item"),a.addClass("active-item"),t.removeClass("pay-type-active"),t.eq(n).addClass("pay-type-active"))})})}(),function(){function e(e,i){$.ajax({url:f+"/cashier/getOrderInfo",dataType:"json",data:{order_id:e,child_id:i},xhrFields:{withCredentials:!0}}).done(function(e){"success"==e.code?(g=e.data.order.order_sn,b=e.data.order.order_amount,$(".J_offlineNum").attr("value",b),$(".J_offlineOrderId").attr("value",m),$(".J_offlineChildId").attr("value",_),$(".J_offlineTotalPrice").html(b),t(),n(e,"success")):"fail"==e.code&&(n(e),g="")}).fail(function(){console.log("error")})}function t(){$("#alipayForm .orderId").attr("value",m),$("#alipayForm .childId").attr("value",_),$("#alipayForm .payType").attr("value",2),$("#alipayForm .tradeSn").attr("value",g)}function n(e,t){var n="";"success"==t?(n='<p class="order-number">订单号：'+e.data.order.order_sn+"</p>",n+='<p class="play-title">应付金额</p>',n+='<p class="order-price"><span>&yen;'+e.data.order.order_amount+'</span> <i class="cashier-icon refresh J_refreshPrice"></i></p>',e.data.address&&(n+='<a href="javascript:void(0);" class="order-details">订单详情 &gt;</a>',n+='<div class="details-box hide"><p>收货人：'+e.data.address.true_name+" </p><p>收货地址："+e.data.address.area_info+" "+e.data.address.address+"</p><p>手机号码："+e.data.address.mob_phone+"</p></div>")):n=e.data.message?'<p class="order-info-fail">'+e.data.message+"</p>":'<p class="order-info-fail">'+e.message+"</p>",$(".order-info").html(n)}e(m,_),$(document).on("click",".J_refreshPrice",function(){$(".cashier-side .order-price").html("获取订单信息..").css("fontSize","18px"),setTimeout(function(){e(m,_)},300)}),$(document).on("click",".order-details",function(e){var t=$(this).siblings(".details-box");t.toggleClass("hide"),e.stopPropagation()}),$(document).on("click",function(){$(".details-box").addClass("hide")})}(),function(){function e(){$.ajax({url:f+"/china-pay/bankList",dataType:"json"}).done(function(e){t(e)}).fail(function(){console.log("error")})}function t(e){for(var t="",n=0;n<e.length;n++)t+='<li data-gateId="'+e[n].gateId+'"><img src="'+cdnConfig.cdnPath+"/images/banks/"+e[n].code+'.png" alt="'+e[n].code+'"></li>';t+='<li class="last J_moreBanks">更多银行&nbsp;&nbsp;+</li>',i.find(".bank-list").html(t)}function n(e){var t=f+"/china-pay/pay?order_id="+m+"&child_id="+_+"&gate_id="+e;a.attr("href",t)}var i=$(".webpay"),a=i.find(".go-pay");e(),$(document).on("click",'.bank-list li:not(".last")',function(){var e=$(this);e.addClass("bank-selected").siblings("li").removeClass("bank-selected"),n(e.attr("data-gateId")),a.removeClass("go-pay-disable")}),$(document).on("click",".J_moreBanks",function(){window.open(f+"/china-pay/pay?order_id="+m+"&child_id="+_);new l({title:"订单支付",content:"",width:400,fixed:!0,button:[{value:"已支付成功",className:"ui-btns-orange",callback:function(){window.location.href=window.location.href}},{value:"未成功，重新支付",className:"ui-btns-gray",callback:function(){window.location.href=window.location.href}}]}).showModal()}),$(".webpay .go-pay").on("click",function(){if(!$(this).hasClass("go-pay-disable")){new l({title:"订单支付",content:"",width:400,fixed:!0,button:[{value:"已支付成功",className:"ui-btns-orange",callback:function(){window.location.href=window.location.href}},{value:"未成功，重新支付",className:"ui-btns-gray",callback:function(){window.location.href=window.location.href}}]}).showModal()}})}(),function(){var e={apis:{getOrderInfo:f+"/cashier/getOrderInfo",bankList:f+"/china-pay/bankList",cards:f+"/china-pay-auth-pay/cards",isBind:f+"/china-pay-auth-pay/isBind",bindResult:f+"/china-pay-auth-pay/bindResult",sendSms:f+"/china-pay-auth-pay/sendSms",pay:f+"/china-pay-auth-pay/pay"},loopBindStatusTimer:null},t=$(".quick-pay"),n=t.find(".bank-number"),i=t.find(".J_checkBankNo");o(n,i);var r={init:function(){$.ajax({url:e.apis.cards,dataType:"json",xhrFields:{withCredentials:!0}}).done(function(e){"success"===e.code&&e.cards.length>0?r.renderBandCardList(e.cards):$(".quick-pay .bank-number-wrap").show()}).fail(function(){console.log("error")})},renderBandCardList:function(e){for(var t="",n=0;n<e.length;n++)t+='<div class="bank-list-item" data-bindNo="'+e[n].bind_no+'"><div class="img-wrap"><img src="'+cdnConfig.cdnPath+"/images/banks/"+e[n].bank_code+'.png" alt=""></div><div class="info"><span class="type">储蓄卡</span><span>尾号*'+e[n].last_number+"</span></div></div>";t+='<a href="javascript:void(0);" class="other-bank">使用其它银行卡 &gt;</a>',$(".select-pay .clearfix").html(t)}};r.init();var u={isBind:function(){$.ajax({url:e.apis.isBind,dataType:"json",data:{card_no:h},xhrFields:{withCredentials:!0}}).done(function(e){w.remove(),u.isBindHandler[e.code](e)}).fail(function(){console.log("error")})},isBindHandler:{fail:function(){console.log("查询失败，可以多试试"),setTimeout(function(){u.isBind()},100)},bind:function(e){console.log("走支付流程"),$(".J_checkBankNo").hide(),$(".bank-number-wrap .send-wrap").show(),v=e.bindNo,u.sendSms($(".bank-number-wrap .txtInput-code"))},not_bind:function(){console.log("走绑定流程"),u.bindCard()},not_support:function(){s(n,"error","该卡片未支持，请更换。")}},bindCard:function(){var e=new l({title:"绑定查询提示",content:'<p style="text-align:center; line-height:30px; font-size:16px;">该卡未绑定快捷支付</p>',fixed:!0,cancel:!0,width:300,cancelDisplay:!1,button:[{value:"取消",callback:function(){}},{value:"去绑定",callback:function(){return u.goBinding(),e.remove(),!1}}]}).showModal()},goBinding:function(){window.open(f+"/china-pay-auth-pay/bind?card_no="+h);var t=new l({title:"绑定结果",content:" ",fixed:!0,cancel:!0,width:300,cancelDisplay:!1,button:[{value:"绑定失败",callback:function(){clearInterval(e.loopBindStatusTimer)}},{value:"绑定成功",callback:function(){return clearInterval(e.loopBindStatusTimer),t.remove(),c("查询绑定结果，请等待..."),u.isBind(),!1}}]}).showModal();u.loopBindStatus(t)},loopBindStatus:function(t){e.loopBindStatusTimer=setInterval(function(){$.ajax({url:e.apis.isBind,dataType:"json",data:{card_no:h},xhrFields:{withCredentials:!0}}).done(function(n){"bind"==n.code&&(t.remove(),clearInterval(e.loopBindStatusTimer),console.log("走支付流程"),$(".J_checkBankNo").hide(),$(".bank-number-wrap .send-wrap").show(),v=n.bindNo,u.sendSms())}).fail(function(){console.log("error")})},5e3)},sendSms:function(t){$.ajax({url:e.apis.sendSms,dataType:"json",data:{order_id:m,child_id:_,bind_no:v},xhrFields:{withCredentials:!0}}).done(function(e){u.smsHandler[e.code](e,t)}).fail(function(){console.log("error")})},smsHandler:{wait:function(e,t){console.log("未到下次发送时间，此时，reSendTime存有下次发送时间，单位秒")},success:function(e,t){s(t,"tips","验证短信发送成功，请注意查收。"),a(e.reSendTime,t.siblings(".getPhoneCode"),t.siblings(".J_countDownWrap"));var n=e.paymentId;$(".J_quickPay_create").off(),$(".J_quickPay_list").off(),$(".J_quickPay_create").on("pay",function(e,i){u.orderPay(i,n,t)}),$(".J_quickPay_list").on("pay",function(e,i){u.orderPay(i,n,t)})},fail:function(e,t){s(t,"error","验证短信发送失败，请重新发送。"),t.siblings(".getPhoneCode").html("获取验证码").attr("lock",!1)}},orderPay:function(t,n,i){$.ajax({url:e.apis.pay,dataType:"json",data:{order_id:m,child_id:_,bind_no:v,sms:t,payment_id:n},xhrFields:{withCredentials:!0}}).done(function(e){var t=e.code;switch(t){case"success":$(".J_quickPay_create").off(),$(".J_quickPay_list").off(),window.location.href=window.location.href;break;case"fail":s(i,"error",e.message)}}).fail(function(){console.log("error")})}};$(document).on("click",".select-pay .bank-list-item",function(){var e=$(this);e.addClass("bank-selected").siblings(".bank-list-item").removeClass("bank-selected"),v=e.attr("data-bindNO"),$(".select-pay .send-wrap").show(),$(".quick-pay .bank-number-wrap").hide()}),$(document).on("click",".other-bank",function(){$(".select-pay .send-wrap").hide(),$(".quick-pay .bank-number-wrap").show(),$(".select-pay .bank-list-item").removeClass("bank-selected")}),$(document).on("click",".J_bindCardPay",function(){var e=$(this);"true"!=e.attr("lock")&&(e.attr("lock",!0).html("发送中"),u.sendSms($(".select-pay .txtInput-code")))}),$(document).on("click",".J_newCardPay",function(){var e=$(this);"true"!=e.attr("lock")&&(e.attr("lock",!0).html("发送中"),u.sendSms($(".bank-number-wrap .txtInput-code")))}),$(document).on("click",".J_checkBankNo",function(){$(this).hasClass("go-pay-disable")||(c("查询中，请等待.."),u.isBind())}),$(document).on("blur",".bank-number-wrap .txtInput-code",function(){var e=$(this),t=$.trim(e.val());/^\d{6}$/.test(t)?$(".J_quickPay_create").removeClass("go-pay-disable"):(s(e,"error","请输入6位数字验证码"),$(".J_quickPay_create").addClass("go-pay-disable"))}),$(document).on("blur",".select-pay  .txtInput-code",function(){var e=$(this),t=$.trim(e.val());/^\d{6}$/.test(t)?$(".J_quickPay_list").removeClass("go-pay-disable"):(s(e,"error","请输入6位数字验证码"),$(".J_quickPay_list").addClass("go-pay-disable"))}),$(document).on("click",".J_quickPay_list",function(){var e=$(this);if(!e.hasClass("go-pay-disable")){var t=$(".select-pay .txtInput-code").val();e.trigger("pay",[t])}}),$(document).on("click",".J_quickPay_create",function(){var e=$(this);if(!e.hasClass("go-pay-disable")){var t=$(".bank-number-wrap .txtInput-code").val();e.trigger("pay",[t])}})}(),function(){function e(){$.ajax({url:f+"/order_status",data:{tradeSn:g},dataType:"jsonp",success:function(e){1==e?(clearInterval(i),window.location.href=window.location.href):-1==e&&window.location.reload()}})}function t(){n&&clearTimeout(n),i&&clearInterval(i),$.ajax({url:f+"/weixin-pay/QRCode?order_id="+m+"&child_id="+_,dataType:"json",xhrFields:{withCredentials:!0}}).done(function(e){"success"==e.code?($(".J_payCodeWrap").html(""),$('<img class="J_payCode" alt="">').appendTo($(".J_payCodeWrap")),$(".J_payCode").attr("src",e.url),n=setTimeout(function(){t()},54e4)):$(".J_payCodeWrap span").html(e.msg)}).fail(function(){console.log("微信支付接口出错")})}var n=null,i=null;t(),$(".J_wxPay").on("click",function(){i||(e(),i=setInterval(function(){e()},2e3))})}(),function(){function e(e,t){return t?t:t=2,parseFloat(e).toFixed(t)}function t(e){var t=g[e]();t.type=e;var n=u("tplInstallmentPeriods",t),i=u("tplInstallmentDetails",t),a=n+i;$(".financing-type").html(a)}var n={apis:{isBind:f+"/china-pay-instalment/isBind",sendSms:f+"/china-pay-instalment/sendSms",pay:f+"/china-pay-instalment/pay"},loopBindStatusTimer:null},i=$(".financing"),r=i.find(".bank-number"),d={isBind:function(){$.ajax({url:n.apis.isBind,dataType:"json",data:{card_no:p},xhrFields:{withCredentials:!0}}).done(function(e){w.remove(),d.isBindHandler[e.code](e)}).fail(function(){console.log("error")})},isBindHandler:{fail:function(){console.log("查询失败，可以多试试"),setTimeout(function(){d.isBind()},100)},bind:function(e){console.log("走支付流程"),$(".J_checkBankNo").hide(),$(".bank-number-wrap .send-wrap").show(),y=e.bindNo,$(".J_financingCheckBankNo").hide(),d.sendSms($(".financing .bank-number-wrap .txtInput-code"))},not_bind:function(){console.log("走绑定流程"),d.bindCard()},not_support:function(){s(r,"error","该卡片未支持，请更换。")}},bindCard:function(){var e=new l({title:"绑定查询提示",content:'<p style="text-align:center; line-height:30px; font-size:16px;">该卡未绑定分期付款功能</p>',fixed:!0,cancel:!0,width:300,cancelDisplay:!1,button:[{value:"取消",callback:function(){}},{value:"去绑定",callback:function(){return d.goBinding(),e.remove(),!1}}]}).showModal()},goBinding:function(){window.open(f+"/china-pay-instalment/bind/bind?card_no="+p);var e=new l({title:"绑定结果",content:" ",fixed:!0,cancel:!0,width:300,cancelDisplay:!1,button:[{value:"绑定失败",callback:function(){clearInterval(n.loopBindStatusTimer)}},{value:"绑定成功",callback:function(){return clearInterval(n.loopBindStatusTimer),e.remove(),c("查询绑定结果，请等待.."),d.isBind(),!1}}]}).showModal();d.loopBindStatus(e)},loopBindStatus:function(e){n.loopBindStatusTimer=setInterval(function(){$.ajax({url:n.apis.isBind,dataType:"json",data:{card_no:p},xhrFields:{withCredentials:!0}}).done(function(t){"bind"==t.code&&(e.remove(),clearInterval(n.loopBindStatusTimer),console.log("走支付流程"),$(".J_checkBankNo").hide(),$(".bank-number-wrap .send-wrap").show(),y=t.bindNo,d.sendSms())}).fail(function(){console.log("error")})},5e3)},sendSms:function(e){$.ajax({url:n.apis.sendSms,dataType:"json",data:{order_id:m,child_id:_,bind_no:y},xhrFields:{withCredentials:!0}}).done(function(t){d.smsHandler[t.code](t,e)}).fail(function(){console.log("error")})},smsHandler:{wait:function(e){console.log("未到下次发送时间，此时，reSendTime存有下次发送时间，单位秒")},success:function(e,t){s(t,"tips","验证短信发送成功，请注意查收。"),a(e.reSendTime,t.siblings(".getPhoneCode"),t.siblings(".J_countDownWrap"));var n=e.paymentId;$(".J_financing_pay").on("pay",function(e,i){d.orderPay(i,n,t)})},fail:function(e,t){s(t,"error","验证短信发送失败，请重新发送。")}},orderPay:function(e,t,i){$.ajax({url:n.apis.pay,dataType:"json",data:{order_id:m,child_id:_,payment_id:t,bind_no:y,sms:e,installments_num:$(".J_financing_pay").attr("data-num")},xhrFields:{withCredentials:!0}}).done(function(e){var t=e.code;switch(t){case"success":$(".J_financing_pay").off(),window.location.href=window.location.href;break;case"fail":s(i,"error",e.message)}}).fail(function(){console.log("error")})}},h=$(".financing .bank-list li"),g=($(".financing-type li"),{CGB:function(t){t?t:t=0;var n=[3,6,12],i=[2.1,4.2,8.4],a=e(b*i[t]/100),s=e(b/n[t]),o=e(b-b/n[t]*(n[t]-1)+a);return{fee:a,preFee:s,firstFee:o,periods:n,ORDER_PRICE:b,num:t}},CEB:function(t){t?t:t=0;var n=[3,6,9,12],i=[3.5,4.5,6.5,7.5],a=e(b*i[t]/100),s=parseInt(b/n[t]),o=parseInt(s)+parseInt(a),r=e(b-s*(n[t]-1));return{fee:a,preFee:s,firstFee:o,lastFee:r,periods:n,ORDER_PRICE:b,num:t}},ICBC:function(t){t?t:t=0;var n=[3,6,9,12,18,24],i=[1.12,1.96,3,3.9,5.84,7.69],a=e(b*i[t]/100),s=parseInt(b/n[t])+parseInt(a/n[t]),o=e(parseInt(b/n[t])+1*e(b%n[t])+parseInt(a/n[t])+1*e(a%n[t]));return{fee:a,preFee:s,firstFee:o,periods:n,ORDER_PRICE:b,num:t}}});h.each(function(e,n){var i=$(this),a=i.attr("data-type");i.on("click",function(){h.removeClass("bank-selected"),i.addClass("bank-selected"),t(a),$(".bank-number-wrap .send-wrap").hide(),$(".financing .bank-number-wrap .txtInput-code").val(""),$(".J_financing_pay").attr("data-num",3),$(".financing .bank-number-wrap").show(),$(".J_financing_pay").attr("data-type",a),$(".J_financingCheckBankNo").show()})}),o($(".financing .bank-number"),$(".financing .J_financingCheckBankNo")),$(document).on("click",".periods-item",function(){var e=$(this),t=e.attr("data-num"),n=e.attr("data-type"),i=g[n](t),a=u("tplInstallmentDetails",i);$(".details-wrap").html(a),e.addClass("bank-selected").siblings("li").removeClass("bank-selected"),$(".J_financing_pay").attr("data-num",i.periods[t])}),$(document).on("click",".J_financingCheckBankNo",function(){$(this).hasClass("go-pay-disable")||(c("查询中，请等待.."),d.isBind())}),$(document).on("blur",".financing .txtInput-code",function(){var e=$(this),t=$.trim(e.val());/^\d{6}$/.test(t)?$(".J_financing_pay").removeClass("go-pay-disable"):(s(e,"error","请输入6位数字验证码"),$(".J_financing_pay").addClass("go-pay-disable"))}),$(document).on("click",".J_financing_pay",function(){var e=$(this);if(!e.hasClass("go-pay-disable")){var t=$(".financing .txtInput-code").val();e.trigger("pay",[t])}})}(),function(){$(".alipay .go-pay").on("click",function(){$("#alipayForm").submit();new l({title:"订单支付",content:"",width:400,fixed:!0,button:[{value:"已支付成功",className:"ui-btns-orange",callback:function(){window.location.href=window.location.href}},{value:"未成功，重新支付",className:"ui-btns-gray",callback:function(){window.location.href=window.location.href}}]}).showModal()})}(),function(){function e(){return/^\d{4}-\d{2}-\d{2}$/.test(o.val())?(s(o,"ok"),u.date=!0,!0):(o.siblings(".cashier-succ-icon").hide(),s(o,"error","请填写正确的汇款日期,格式如2015-10-10"),u.date=!1,!1)}function t(){return/^[\u4e00-\u9fa5]+$/.test(r.val())?(s(r,"ok"),u.userName=!0,!0):(r.siblings(".cashier-succ-icon").hide(),s(r,"error","请填写正确的汇款人姓名"),u.userName=!1,!1)}function n(){return/^\d+$/.test(c.val())?(s(c,"ok"),u.serialNumber=!0,!0):(c.siblings(".cashier-succ-icon").hide(),s(c,"error","请填写正确的交易流水号"),u.serialNumber=!1,!1)}function i(){return/^[\u4e00-\u9fa5]+$/.test(l.val())?(s(l,"ok"),u.accountCode=!0,!0):(l.siblings(".cashier-succ-icon").hide(),s(l,"error","请填写正确的交易行名"),u.accountCode=!1,!1)}function a(){""!=$(".J_offlineAddress").val()&&(u.accountCode&&u.serialNumber&&u.userName&&u.date?$(".J_remittanceComfirm").removeClass("go-pay-disable"):$(".J_remittanceComfirm").addClass("go-pay-disable"))}var o=$(".J_datepicker"),r=$(".cartUserName"),c=$(".serialNumber"),l=$(".accountCode"),u={date:!1,userName:!1,serialNumber:!1,accountCode:!1};o.on("blur",function(){e(),a()}),r.on("blur",function(){t(),a()}),c.on("blur",function(){n(),a()}),l.on("blur",function(){i(),a()}),$(".J_remittanceComfirm").on("click",function(){var a=$(this);a.hasClass("go-pay-disable")||e()&&t()&&n()&&i()&&$("#J_offlineForm").submit()})}(),function(){function e(){$.ajax({url:"http://api.kinhom.com/region/pro",type:"get",dataType:"jsonp",success:function(e){t(e,$(".pro-con .select-list"))},error:function(e){console.log("获取数据失败，请稍后再试!")}})}function t(e,t){var n="";t.html("");for(var i=0;i<e.length;i++)n+='<li data-parent="'+e[i].region_id+'" data-value="'+e[i].region_id+'" >'+e[i].region_name+"</li>";t.append(n)}function n(e,t){$(".address-title").removeClass("active"),$(".address-title").eq(t.parent(".con").index()).addClass("active"),$(".address-title").eq(e.parent().parent(".con").index()).html(e.html()),e.parent().parent(".con").removeClass("active"),t.parent(".con").addClass("active")}$(document).on("click",function(){$(".address-select").hide()});var i="",a="",s="",o="";$(document).on("click",".address",function(e){e.stopPropagation()}),$(document).on("click",".J_select_address",function(t){if(i="",""==$(".address-selector").html()){var n=u("tplAddressSelector",{});$(".address-selector").html(n),e()}else $(".address-select").show(),$(".address-selector").show()}),$(document).on("click",".J_select_province li",function(e){var r=$(this),c=r.attr("data-parent"),l=$(".J_select_city");$(".J_offlineProvince").val(c),a=r.html(),i=" "+a+" "+s+" "+o,$.ajax({url:"http://api.kinhom.com/region/city/"+c,type:"get",dataType:"jsonp",success:function(e){t(e,l),n(r,l)}})}),$(document).on("click",".J_select_city li",function(e){var r=$(this),c=r.attr("data-parent"),l=$(".J_select_area");$(".J_offlineCity").val(c),s=r.html(),i=" "+a+" "+s+" "+o,$.ajax({url:"http://api.kinhom.com/region/area/"+c,type:"get",dataType:"jsonp",success:function(e){t(e,l),n(r,l)}}),e.stopPropagation()}),$(document).on("click",".J_select_area li",function(e){var t=$(this),n=t.attr("data-parent");$(".J_offlineArea").val(n),o=t.html(),i=" "+a+" "+s+" "+o,$(".J_offlineAddress").attr("value",a+s+o),$(".order-transfer-form .address .cashier-succ-icon").show(),$(".remittance .address .triangle").hide(),$(".address-title").eq(t.parent().parent(".con").index()).html(t.html()),$(".userAddress").html(i),$(".address-selector").hide()}),$(document).on("click",".address-title",function(){var e=$(this),t=e.parent().parent().find(".con"),n=e.index(),i=t.eq(n).html();""!==i&&(e.addClass("active").siblings(".address-title").removeClass("active"),t.removeClass("active").eq(n).addClass("active"))})}()}),define("lib/components/slider/1.0.0/slider",[],function(e,t,n){!function(e){e.fn.slide=function(t){return e.fn.slide.defaults={type:"slide",effect:"fade",autoPlay:!1,delayTime:500,interTime:2500,triggerTime:150,defaultIndex:0,titCell:".hd li",mainCell:".bd",targetCell:null,trigger:"mouseover",scroll:1,vis:1,titOnClassName:"on",autoPage:!1,prevCell:".prev",nextCell:".next",pageStateCell:".pageState",opp:!1,pnLoop:!0,easing:"swing",startFun:null,endFun:null,switchLoad:null,playStateCell:".playState",mouseOverStop:!0,defaultPlay:!0,returnDefault:!1},this.each(function(){var n,i=e.extend({},e.fn.slide.defaults,t),a=e(this),s=i.effect,o=e(i.prevCell,a),r=e(i.nextCell,a),c=e(i.pageStateCell,a),l=e(i.playStateCell,a),u=e(i.titCell,a),d=u.size(),f=e(i.mainCell,a),h=f.children().size(),p=i.switchLoad,m=e(i.targetCell,a),_=parseInt(i.defaultIndex),g=parseInt(i.delayTime),v=parseInt(i.interTime),y=(parseInt(i.triggerTime),parseInt(i.scroll)),b=parseInt(i.vis),w="false"!=i.autoPlay&&0!=i.autoPlay,k="false"!=i.opp&&0!=i.opp,D="false"!=i.autoPage&&0!=i.autoPage,$="false"!=i.pnLoop&&0!=i.pnLoop,M="false"!=i.mouseOverStop&&0!=i.mouseOverStop,C="false"!=i.defaultPlay&&0!=i.defaultPlay,x="false"!=i.returnDefault&&0!=i.returnDefault,Y=0,T=0,S=0,I=0,O=i.easing,N=null,P=null,F=null,L=i.titOnClassName,j=u.index(a.find("."+L)),J=_=-1==j?_:j,B=_,E=_,W=h>=b?h%y!=0?h%y:y:0,z="leftMarquee"==s||"topMarquee"==s,G=function(){e.isFunction(i.startFun)&&i.startFun(_,d,a,e(i.titCell,a),f,m,o,r)},H=function(){e.isFunction(i.endFun)&&i.endFun(_,d,a,e(i.titCell,a),f,m,o,r)},q=function(){u.removeClass(L),C&&u.eq(B).addClass(L)};if("menu"==i.type)return C&&u.removeClass(L).eq(_).addClass(L),u.hover(function(){n=e(this).find(i.targetCell);var t=u.index(e(this));P=setTimeout(function(){switch(_=t,u.removeClass(L).eq(_).addClass(L),G(),s){case"fade":n.stop(!0,!0).animate({opacity:"show"},g,O,H);break;case"slideDown":n.stop(!0,!0).animate({height:"show"},g,O,H)}},i.triggerTime)},function(){switch(clearTimeout(P),s){case"fade":n.animate({opacity:"hide"},g,O);break;case"slideDown":n.animate({height:"hide"},g,O)}}),void(x&&a.hover(function(){clearTimeout(F)},function(){F=setTimeout(q,g)}));if(0==d&&(d=h),z&&(d=2),D){if(h>=b)if("leftLoop"==s||"topLoop"==s)d=h%y!=0?(h/y^0)+1:h/y;else{var A=h-b;d=1+parseInt(A%y!=0?A/y+1:A/y),0>=d&&(d=1)}else d=1;u.html("");var R="";if(1==i.autoPage||"true"==i.autoPage)for(var U=0;d>U;U++)R+="<li>"+(U+1)+"</li>";else for(var U=0;d>U;U++)R+=i.autoPage.replace("$",U+1);u.html(R);var u=u.children()}if(h>=b){f.children().each(function(){e(this).width()>S&&(S=e(this).width(),T=e(this).outerWidth(!0)),e(this).height()>I&&(I=e(this).height(),Y=e(this).outerHeight(!0))});var Q=f.children(),Z=function(){for(var e=0;b>e;e++)Q.eq(e).clone().addClass("clone").appendTo(f);for(var e=0;W>e;e++)Q.eq(h-e-1).clone().addClass("clone").prependTo(f)};switch(s){case"fold":f.css({position:"relative",width:T,height:Y}).children().css({position:"absolute",width:S,left:0,top:0,display:"none"});break;case"top":f.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+b*Y+'px"></div>').css({top:-(_*y)*Y,position:"relative",padding:"0",margin:"0"}).children().css({height:I});break;case"left":f.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+b*T+'px"></div>').css({width:h*T,left:-(_*y)*T,position:"relative",overflow:"hidden",padding:"0",margin:"0"}).children().css({"float":"left",width:S});break;case"leftLoop":case"leftMarquee":Z(),f.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+b*T+'px"></div>').css({width:(h+b+W)*T,position:"relative",overflow:"hidden",padding:"0",margin:"0",left:-(W+_*y)*T}).children().css({"float":"left",width:S});break;case"topLoop":case"topMarquee":Z(),f.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+b*Y+'px"></div>').css({height:(h+b+W)*Y,position:"relative",padding:"0",margin:"0",top:-(W+_*y)*Y}).children().css({height:I})}}var V=function(e){var t=e*y;return e==d?t=h:-1==e&&h%y!=0&&(t=-h%y),t},X=function(t){var n=function(n){for(var i=n;b+n>i;i++)t.eq(i).find("img["+p+"]").each(function(){var t=e(this);if(t.attr("src",t.attr(p)).removeAttr(p),f.find(".clone")[0])for(var n=f.children(),i=0;i<n.size();i++)n.eq(i).find("img["+p+"]").each(function(){e(this).attr(p)==t.attr("src")&&e(this).attr("src",e(this).attr(p)).removeAttr(p)})})};switch(s){case"fade":case"fold":case"top":case"left":case"slideDown":n(_*y);break;case"leftLoop":case"topLoop":n(W+V(E));break;case"leftMarquee":case"topMarquee":var i="leftMarquee"==s?f.css("left").replace("px",""):f.css("top").replace("px",""),a="leftMarquee"==s?T:Y,o=W;if(i%a!=0){var r=Math.abs(i/a^0);o=1==_?W+r:W+r-1}n(o)}},K=function(e){if(!C||J!=_||e||z){if(z?_>=1?_=1:0>=_&&(_=0):(E=_,_>=d?_=0:0>_&&(_=d-1)),G(),null!=p&&X(f.children()),m[0]&&(n=m.eq(_),null!=p&&X(m),"slideDown"==s?(m.not(n).stop(!0,!0).slideUp(g),n.slideDown(g,O,function(){f[0]||H()})):(m.not(n).stop(!0,!0).hide(),n.animate({opacity:"show"},g,function(){f[0]||H()}))),h>=b)switch(s){case"fade":f.children().stop(!0,!0).eq(_).animate({opacity:"show"},g,O,function(){H()}).siblings().hide();break;case"fold":f.children().stop(!0,!0).eq(_).animate({opacity:"show"},g,O,function(){H()}).siblings().animate({opacity:"hide"},g,O);break;case"top":f.stop(!0,!1).animate({top:-_*y*Y},g,O,function(){H()});break;case"left":f.stop(!0,!1).animate({left:-_*y*T},g,O,function(){H()});break;case"leftLoop":var t=E;f.stop(!0,!0).animate({left:-(V(E)+W)*T},g,O,function(){-1>=t?f.css("left",-(W+(d-1)*y)*T):t>=d&&f.css("left",-W*T),H()});break;case"topLoop":var t=E;f.stop(!0,!0).animate({top:-(V(E)+W)*Y},g,O,function(){-1>=t?f.css("top",-(W+(d-1)*y)*Y):t>=d&&f.css("top",-W*Y),H()});break;case"leftMarquee":var i=f.css("left").replace("px","");0==_?f.animate({left:++i},0,function(){f.css("left").replace("px","")>=0&&f.css("left",-h*T)}):f.animate({left:--i},0,function(){f.css("left").replace("px","")<=-(h+W)*T&&f.css("left",-W*T)});break;case"topMarquee":var a=f.css("top").replace("px","");0==_?f.animate({top:++a},0,function(){f.css("top").replace("px","")>=0&&f.css("top",-h*Y)}):f.animate({top:--a},0,function(){f.css("top").replace("px","")<=-(h+W)*Y&&f.css("top",-W*Y)})}u.removeClass(L).eq(_).addClass(L),J=_,$||(r.removeClass("nextStop"),o.removeClass("prevStop"),0==_&&o.addClass("prevStop"),_==d-1&&r.addClass("nextStop")),c.html("<span>"+(_+1)+"</span>/"+d)}};C&&K(!0),x&&a.hover(function(){clearTimeout(F)},function(){F=setTimeout(function(){_=B,C?K():"slideDown"==s?n.slideUp(g,q):n.animate({opacity:"hide"},g,q),J=_},300)});var ee=function(e){N=setInterval(function(){k?_--:_++,K()},e?e:v)},te=function(e){N=setInterval(K,e?e:v)},ne=function(){M||(clearInterval(N),ee())},ie=function(){($||_!=d-1)&&(_++,K(),z||ne())},ae=function(){($||0!=_)&&(_--,K(),z||ne())},se=function(){clearInterval(N),z?te():ee(),l.removeClass("pauseState")},oe=function(){clearInterval(N),l.addClass("pauseState")};if(w?z?(k?_--:_++,te(),M&&f.hover(oe,se)):(ee(),M&&a.hover(oe,se)):(z&&(k?_--:_++),l.addClass("pauseState")),l.click(function(){l.hasClass("pauseState")?se():oe()}),"mouseover"==i.trigger?u.hover(function(){var e=u.index(this);P=setTimeout(function(){_=e,K(),ne()},i.triggerTime)},function(){clearTimeout(P)}):u.click(function(){_=u.index(this),K(),ne()}),z){if(r.mousedown(ie),o.mousedown(ae),$){var re,ce=function(){re=setTimeout(function(){clearInterval(N),te(v/10^0)},150)},le=function(){clearTimeout(re),clearInterval(N),te()};r.mousedown(ce),r.mouseup(le),o.mousedown(ce),o.mouseup(le)}"mouseover"==i.trigger&&(r.hover(ie,function(){}),o.hover(ae,function(){}))}else r.click(ie),o.click(ae)})}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,a){return jQuery.easing[jQuery.easing.def](e,t,n,i,a)},easeInQuad:function(e,t,n,i,a){return i*(t/=a)*t+n},easeOutQuad:function(e,t,n,i,a){return-i*(t/=a)*(t-2)+n},easeInOutQuad:function(e,t,n,i,a){return(t/=a/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,a){return i*(t/=a)*t*t+n},easeOutCubic:function(e,t,n,i,a){return i*((t=t/a-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,a){return(t/=a/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,a){return i*(t/=a)*t*t*t+n},easeOutQuart:function(e,t,n,i,a){return-i*((t=t/a-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,a){return(t/=a/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,a){return i*(t/=a)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,a){return i*((t=t/a-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,a){return(t/=a/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,a){return-i*Math.cos(t/a*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,a){return i*Math.sin(t/a*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,a){return-i/2*(Math.cos(Math.PI*t/a)-1)+n},easeInExpo:function(e,t,n,i,a){return 0==t?n:i*Math.pow(2,10*(t/a-1))+n},easeOutExpo:function(e,t,n,i,a){return t==a?n+i:i*(-Math.pow(2,-10*t/a)+1)+n},easeInOutExpo:function(e,t,n,i,a){return 0==t?n:t==a?n+i:(t/=a/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,i,a){return-i*(Math.sqrt(1-(t/=a)*t)-1)+n},easeOutCirc:function(e,t,n,i,a){return i*Math.sqrt(1-(t=t/a-1)*t)+n},easeInOutCirc:function(e,t,n,i,a){return(t/=a/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,a){var s=1.70158,o=0,r=i;if(0==t)return n;if(1==(t/=a))return n+i;if(o||(o=.3*a),r<Math.abs(i)){r=i;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/o))+n},easeOutElastic:function(e,t,n,i,a){var s=1.70158,o=0,r=i;if(0==t)return n;if(1==(t/=a))return n+i;if(o||(o=.3*a),r<Math.abs(i)){r=i;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin((t*a-s)*(2*Math.PI)/o)+i+n},easeInOutElastic:function(e,t,n,i,a){
var s=1.70158,o=0,r=i;if(0==t)return n;if(2==(t/=a/2))return n+i;if(o||(o=a*(.3*1.5)),r<Math.abs(i)){r=i;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(i/r);return 1>t?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/o))+n:r*Math.pow(2,-10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/o)*.5+i+n},easeInBack:function(e,t,n,i,a,s){return void 0==s&&(s=1.70158),i*(t/=a)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,i,a,s){return void 0==s&&(s=1.70158),i*((t=t/a-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,i,a,s){return void 0==s&&(s=1.70158),(t/=a/2)<1?i/2*(t*t*(((s*=1.525)+1)*t-s))+n:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,i,a){return i-jQuery.easing.easeOutBounce(e,a-t,0,i,a)+n},easeOutBounce:function(e,t,n,i,a){return(t/=a)<1/2.75?i*(7.5625*t*t)+n:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,a){return a/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,i,a)+n:.5*jQuery.easing.easeOutBounce(e,2*t-a,0,i,a)+.5*i+n}})}),define("lib/components/dialog/1.0.0/dialog",["lib/components/dialog/1.0.0/popup","lib/components/dialog/1.0.0/dialog-config"],function(e,t,n){var i=e("./popup"),a=e("./dialog-config"),s=a.cssUri;if(s){var o=e[e.toUrl?"toUrl":"resolve"];o&&(s=o(s),s='<link rel="stylesheet" href="'+s+'" />',$("base")[0]?$("base").before(s):$("head").append(s))}var r=0,c=new Date-0,l=!("minWidth"in $("html")[0].style),u="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),d=!l&&!u,f=function(e,t,n){var i=e=e||{};"string"!=typeof e&&1!==e.nodeType||(e={content:e,fixed:!u}),e=$.extend(!0,{},f.defaults,e),e.original=i;var a=e.id=e.id||c+r,s=f.get(a);return s?s.focus():(d||(e.fixed=!0),e.quickClose&&(e.modal=!0,e.backdropOpacity=0),$.isArray(e.button)||(e.button=[]),void 0!==n&&(e.cancel=n),e.cancel&&e.button.push({id:"cancel",className:e.cancelClassName,value:e.cancelValue,callback:e.cancel,display:e.cancelDisplay}),void 0!==t&&(e.ok=t),e.ok&&e.button.push({id:"ok",className:e.okClassName,value:e.okValue,callback:e.ok,autofocus:!0}),f.list[a]=new f.create(e))},h=function(){};h.prototype=i.prototype;var p=f.prototype=new h;return f.create=function(e){var t=this;$.extend(this,new i);var n=(e.original,$(this.node).html(e.innerHTML)),a=$(this.backdrop);return this.options=e,this._popup=n,$.each(e,function(e,n){"function"==typeof t[e]?t[e](n):t[e]=n}),e.zIndex&&(i.zIndex=e.zIndex),n.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").on("click",function(e){t._trigger("cancel"),e.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),e.quickClose&&a.on("onmousedown"in document?"mousedown":"click",function(){return t._trigger("cancel"),!1}),this.addEventListener("show",function(){a.css({opacity:0,background:e.backdropBackground}).animate({opacity:e.backdropOpacity},150)}),this._esc=function(e){var n=e.target,a=n.nodeName,s=/^input|textarea$/i,o=i.current===t,r=e.keyCode;!o||s.test(a)&&"button"!==n.type||27===r&&t._trigger("cancel")},$(document).on("keydown",this._esc),this.addEventListener("remove",function(){$(document).off("keydown",this._esc),delete f.list[this.id]}),r++,f.oncreate(this),this},f.create.prototype=p,$.extend(p,{content:function(e){var t=this._$("content");return"object"==typeof e?(e=$(e),t.empty("").append(e.show()),this.addEventListener("beforeremove",function(){$("body").append(e.hide())})):t.html(e),this.reset()},title:function(e){return this._$("title").text(e),this._$("header")[e?"show":"hide"](),this},width:function(e){return this._$("content").css("width",e),this.reset()},height:function(e){return this._$("content").css("height",e),this.reset()},button:function(e){e=e||[];var t=this,n="",i=0;return this.callbacks={},"string"==typeof e?(n=e,i++):$.each(e,function(e,a){var s=a.id=a.id||a.value,o="";t.callbacks[s]=a.callback,a.display===!1?o=' style="display:none"':i++,n+='<button type="button" i-id="'+s+'" class="'+(a.className?a.className:"ui-btns-nor")+'"'+o+(a.disabled?" disabled":"")+(a.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+a.value+"</button>",t._$("button").on("click","[i-id="+s+"]",function(e){var n=$(this);n.attr("disabled")||t._trigger(s),e.preventDefault()})}),this._$("button").html(n),this._$("footer")[i?"show":"hide"](),this},statusbar:function(e){return this._$("statusbar").html(e)[e?"show":"hide"](),this},_$:function(e){return this._popup.find("[i="+e+"]")},_trigger:function(e){var t=this.callbacks[e];return"function"!=typeof t||t.call(this)!==!1?this.close().remove():this}}),f.oncreate=$.noop,f.getCurrent=function(){return i.current},f.get=function(e){return void 0===e?f.list:f.list[e]},f.list={},f.defaults=a,f}),define("lib/components/dialog/1.0.0/popup",[],function(e,t,n){function i(){this.destroyed=!1,this.__popup=$("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=$("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],a++}var a=0,s=!("minWidth"in $("html")[0].style),o=!s;return $.extend(i.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(e){if(this.destroyed)return this;var t=this.__popup,n=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=e||this.follow,!this.__ready){if(t.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),s||$(window).on("resize",$.proxy(this.reset,this)),this.modal){var a={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||i.zIndex};t.addClass(this.className+"-modal"),o||$.extend(a,{position:"absolute",width:$(window).width()+"px",height:$(document).height()+"px"}),n.css(a).attr({tabindex:"0"}).on("focus",$.proxy(this.focus,this)),this.__mask=n.clone(!0).attr("style","").insertAfter(t),n.addClass(this.className+"-backdrop").insertBefore(t),this.__ready=!0}t.html()||t.html(this.innerHTML)}return t.addClass(this.className+"-show").show(),n.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(e){return!this.destroyed&&this.open&&(void 0!==e&&(this.returnValue=e),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),i.current===this&&(i.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),s||$(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var e in this)delete this[e];return this},reset:function(){var e=this.follow;return e?this.__follow(e):this.__center(),this.__dispatchEvent("reset"),this},resize:function(){var e=this.follow;return e?this.__follow(e):this.__center(),this.__dispatchEvent("resize"),this},focus:function(){var e=this.node,t=this.__popup,n=i.current,a=this.zIndex=i.zIndex++;if(n&&n!==this&&n.blur(!1),!$.contains(e,this.__getActive())){var s=t.find("[autofocus]")[0];!this._autofocus&&s?this._autofocus=!0:s=e,this.__focus(s)}return t.css("zIndex",a),i.current=this,t.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var e=this.__activeElement,t=arguments[0];return t!==!1&&this.__focus(e),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(e,t){return this.__getEventListener(e).push(t),this},removeEventListener:function(e,t){for(var n=this.__getEventListener(e),i=0;i<n.length;i++)t===n[i]&&n.splice(i--,1);return this},__getEventListener:function(e){var t=this.__listener;return t||(t=this.__listener={}),t[e]||(t[e]=[]),t[e]},__dispatchEvent:function(e){var t=this.__getEventListener(e);this["on"+e]&&this["on"+e]();for(var n=0;n<t.length;n++)t[n].call(this)},__focus:function(e){try{this.autofocus&&!/^iframe$/i.test(e.nodeName)&&e.focus()}catch(t){}},__getActive:function(){try{var e=document.activeElement,t=e.contentDocument,n=t&&t.activeElement||e;return n}catch(i){}},__center:function(){var e=this.__popup,t=$(window),n=$(document),i=this.fixed,a=i?0:n.scrollLeft(),s=i?0:n.scrollTop(),o=t.width(),r=t.innerHeight(),c=e.width(),l=e.height(),u=(o-c)/2,d=(r-l)/2,f=e[0].style;f.left=Math.max(parseInt(u),a)+"px",f.top=Math.max(parseInt(d),s)+"px"},__follow:function(e){var t=e.parentNode&&$(e),n=this.__popup;if(this.__followSkin&&n.removeClass(this.__followSkin),t){var i=t.offset();if(i.left*i.top<0)return this.__center()}var a=this,s=this.fixed,o=$(window),r=$(document),c=o.width(),l=o.height(),u=r.scrollLeft(),d=r.scrollTop(),f=n.width(),h=n.height(),p=t?t.outerWidth():0,m=t?t.outerHeight():0,_=this.__offset(e),g=_.left,v=_.top,y=s?g-u:g,b=s?v-d:v,w=s?0:u,k=s?0:d,D=w+c-f,M=k+l-h,C={},x=this.align.split(" "),Y=this.className+"-",T={top:"bottom",bottom:"top",left:"right",right:"left"},S={top:"top",bottom:"top",left:"left",right:"left"},I=[{top:b-h,bottom:b+m,left:y-f,right:y+p},{top:b,bottom:b-h+m,left:y,right:y-f+p}],O={left:y+p/2-f/2,top:b+m/2-h/2},N={left:[w,D],top:[k,M]};$.each(x,function(e,t){I[e][t]>N[S[t]][1]&&(t=x[e]=T[t]),I[e][t]<N[S[t]][0]&&(x[e]=T[t])}),x[1]||(S[x[1]]="left"===S[x[0]]?"top":"left",I[1][x[1]]=O[S[x[1]]]),Y+=x.join("-")+" "+this.className+"-follow",a.__followSkin=Y,t&&n.addClass(Y),C[S[x[0]]]=parseInt(I[0][x[0]]),C[S[x[1]]]=parseInt(I[1][x[1]]),n.css(C)},__offset:function(e){var t=e.parentNode,n=t?$(e).offset():{left:e.pageX,top:e.pageY};e=t?e:e.target;var i=e.ownerDocument,a=i.defaultView||i.parentWindow;if(a==window)return n;var s=a.frameElement,o=$(i),r=o.scrollLeft(),c=o.scrollTop(),l=$(s).offset(),u=l.left,d=l.top;return{left:n.left+u-r,top:n.top+d-c}}}),i.zIndex=1024,i.current=null,i}),define("lib/components/dialog/1.0.0/dialog-config",[],{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,okClassName:"ui-btns-ok",cancel:null,cancelClassName:"ui-btns-cancel",okValue:"ok",cancelValue:"cancel",cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><span i="close" class="ui-dialog-close">&#215;</span><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="button" class="ui-dialog-button"></div></td></tr><tr><td i="footerSub" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div></td></tr></table></div>'}),!function(){function e(e,t){return(/string|function/.test(typeof t)?r:o)(e,t)}function t(e,n){return"string"!=typeof e&&(n=typeof e,"number"===n?e+="":e="function"===n?t(e.call(e)):""),e}function n(e){return d[e]}function i(e){return t(e).replace(/&(?![\w#]+;)|[<>"']/g,n)}function a(e,t){if(f(e))for(var n=0,i=e.length;i>n;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)}function s(e,t){var n=/(\/)[^/]+\1\.\.\1/,i=("./"+e).replace(/[^/]+$/,""),a=i+t;for(a=a.replace(/\/\.\//g,"/");a.match(n);)a=a.replace(n,"/");return a}function o(t,n){var i=e.get(t)||c({filename:t,name:"Render Error",message:"Template not found"});return n?i(n):i}function r(e,t){if("string"==typeof t){var n=t;t=function(){return new u(n)}}var i=l[e]=function(n){try{return new t(n,e)+""}catch(i){return c(i)()}};return i.prototype=t.prototype=h,i.toString=function(){return t+""},i}function c(e){var t="{Template Error}",n=e.stack||"";if(n)n=n.split("\n").slice(0,2).join("\n");else for(var i in e)n+="<"+i+">\n"+e[i]+"\n\n";return function(){return"object"==typeof console&&console.error(t+"\n\n"+n),t}}var l=e.cache={},u=this.String,d={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},f=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},h=e.utils={$helpers:{},$include:function(e,t,n){return e=s(n,e),o(e,t)},$string:t,$escape:i,$each:a},p=e.helpers=h.$helpers;e.get=function(e){return l[e.replace(/^\.\//,"")]},e.helper=function(e,t){p[e]=t},"function"==typeof define?define("lib/template/tempcashier",[],function(t,n,i){return e}):"undefined"!=typeof exports?module.exports=e:this.template=e,e("tplAddressSelector",'<div class="address-select"> <div class="hd"> <a href="javascript:;" class="address-title active">所在省份</a> <a href="javascript:;" class="address-title">所在城市</a> <a href="javascript:;" class="address-title">所在区</a> </div> <div class="bd"> <div class="con pro-con active"> <ul class="select-list J_select_province"></ul> </div> <div class="con city-con"> <ul class="select-list J_select_city"></ul> </div> <div class="con area-con"> <ul class="select-list J_select_area"></ul> </div> </div> </div>'),e("tplInstallmentDetails",function(e,t){"use strict";var n=this,i=(n.$helpers,n.$escape),a=e.num,s=e.ORDER_PRICE,o=e.fee,r=e.firstFee,c=e.lastFee,l=e.preFee,d=e.periods,f="";return f+='<div class="details-wrap"> <div class="triangle"> <div class="triangle-up select-type-',f+=i(a),f+='"></div> </div> <div class="financing-info"> <p>付款总额：&yen;<span class="fc-f60 financing-total">',f+=i(1*s+1*o),f+='</span>= 应付金额&yen;<span class="fc-f60 order-total">',f+=i(s),f+='</span> ＋ 分期手续费&yen;<span class="fc-f60 fee">',f+=i(o),f+='</span>（分期手续费具体以银行收取为准）</p> <p>首期还款：&yen;<span class="fc-f60 financing-one">',f+=i(r),f+="</span></p> ",c?(f+=' <p>每期应付：&yen;<span class="fc-f60 financing-one">',f+=i(l),f+='</span> x <span class="fc-f60 financing-num">',f+=i(d[a]-2),f+='</span>期</p> <p>尾期还款：&yen;<span class="fc-f60 financing-one">',f+=i(c),f+='</span> x <span class="fc-f60 financing-num">1</span>期</p> '):(f+=' <p>每期应付：&yen;<span class="fc-f60 financing-one">',f+=i(l),f+='</span> x <span class="fc-f60 financing-num">',f+=i(d[a]-1),f+="</span>期</p> "),f+=" </div> </div>",new u(f)}),e("tplInstallmentPeriods",function(e,t){"use strict";var n=this,i=(n.$helpers,e.i),a=e.periods,s=n.$escape,o=e.type,r="";r+='<p class="title">选择分期期数：</p> <ul class="list clearfix"> ';for(var i=0;i<a.length;i++)r+=" ",0==i?(r+=' <li class="bank-selected periods-item" data-num="',r+=s(i),r+='" data-type="',r+=s(o),r+='">',r+=s(a[i]),r+=" 期</li> "):(r+=' <li class="periods-item" data-num="',r+=s(i),r+='" data-type="',r+=s(o),r+='">',r+=s(a[i]),r+=" 期</li> "),r+=" ";return r+=" </ul> ",new u(r)})}(),define("lib/components/pickDate/1.0.0/pickDate",["lib/components/pickDate/1.0.0/moment"],function(e,t,n){!function(i,a){"use strict";var s;if("object"==typeof t){try{s=e("./moment")}catch(o){}n.exports=a(s)}else"function"==typeof define&&define.amd?define(function(e){var t="moment";try{s=e(t)}catch(n){}return a(s)}):i.Pikaday=a(i.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,a=window.setTimeout,s=function(e,t,i,a){n?e.addEventListener(t,i,!!a):e.attachEvent("on"+t,i)},o=function(e,t,i,a){n?e.removeEventListener(t,i,!!a):e.detachEvent("on"+t,i)},r=function(e,t,n){var a;i.createEvent?(a=i.createEvent("HTMLEvents"),a.initEvent(t,!0,!1),a=y(a,n),e.dispatchEvent(a)):i.createEventObject&&(a=i.createEventObject(),a=y(a,n),e.fireEvent("on"+t,a))},c=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},l=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},u=function(e,t){l(e,t)||(e.className=""===e.className?t:e.className+" "+t)},d=function(e,t){e.className=c((" "+e.className+" ").replace(" "+t+" "," "))},f=function(e){return/Array/.test(Object.prototype.toString.call(e))},h=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},m=function(e){return e%4===0&&e%100!==0||e%400===0},_=function(e,t){return[31,m(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},g=function(e){h(e)&&e.setHours(0,0,0,0)},v=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var i,a;for(i in t)a=void 0!==e[i],a&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?h(t[i])?n&&(e[i]=new Date(t[i].getTime())):f(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=y({},t[i],n):!n&&a||(e[i]=t[i]);return e},b=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},w={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"下一月",nextMonth:"上一月",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weekdays:["周日","周一","周二","周三","周四","周五","周六"],weekdaysShort:["日","一","二","三","四","五","六"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},k=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},D=function(e,t,n,i,a,s,o){if(o)return'<td class="is-empty"></td>';var r=[];return s&&r.push("is-disabled"),a&&r.push("is-today"),i&&r.push("is-selected"),'<td data-day="'+e+'" class="'+r.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+n+'" data-pika-month="'+t+'" data-pika-day="'+e+'">'+e+"</button></td>"},$=function(e,t,n){var i=new Date(n,0,1),a=Math.ceil(((new Date(n,t,e)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+a+"</td>"},M=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},C=function(e){return"<tbody>"+e.join("")+"</tbody>"},x=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+k(e,t)+'">'+k(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},Y=function(e,t,n,i,a){var s,o,r,c,l,u=e._o,d=n===u.minYear,h=n===u.maxYear,p='<div class="pika-title">',m=!0,_=!0;for(r=[],s=0;12>s;s++)r.push('<option value="'+(n===a?s-t:12+s-t)+'"'+(s===i?" selected":"")+(d&&s<u.minMonth||h&&s>u.maxMonth?"disabled":"")+">"+u.i18n.months[s]+"</option>");for(c='<div class="pika-label">'+u.i18n.months[i]+'<select class="pika-select pika-select-month">'+r.join("")+"</select></div>",f(u.yearRange)?(s=u.yearRange[0],o=u.yearRange[1]+1):(s=n-u.yearRange,o=1+n+u.yearRange),r=[];o>s&&s<=u.maxYear;s++)s>=u.minYear&&r.push('<option value="'+s+'"'+(s===n?" selected":"")+">"+s+"</option>");return l='<div class="pika-label">'+n+u.yearSuffix+'<select class="pika-select pika-select-year">'+r.join("")+"</select></div>",p+=u.showMonthAfterYear?l+c:c+l,d&&(0===i||u.minMonth>=i)&&(m=!1),h&&(11===i||u.maxMonth<=i)&&(_=!1),0===t&&(p+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+u.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(_?"":" is-disabled")+'" type="button">'+u.i18n.nextMonth+"</button>"),p+="</div>"},T=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+x(e)+C(t)+"</table>"},S=function(o){var r=this,c=r.config(o);r._onMouseDown=function(e){if(r._v){e=e||window.event;var t=e.target||e.srcElement;if(t){if(!e.preventDefault)return e.returnValue=!1,!1;if(e.preventDefault(),!l(t,"is-disabled")){if(l(t,"pika-button")&&!l(t,"is-empty"))return r.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),void(c.bound&&a(function(){r.hide(),c.field&&c.field.blur()},100));l(t,"pika-prev")?r.prevMonth():l(t,"pika-next")&&r.nextMonth()}if(l(t,"pika-select"))r._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}}},r._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(l(t,"pika-select-month")?r.gotoMonth(t.value):l(t,"pika-select-year")&&r.gotoYear(t.value))},r._onInputChange=function(n){var i;n.firedBy!==r&&(t?(i=e(c.field.value,c.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(c.field.value)),r.setDate(h(i)?i:null),r._v||r.show())},r._onInputFocus=function(){r.show()},r._onInputClick=function(){r.show()},r._onInputBlur=function(){var e=i.activeElement;do if(l(e,"pika-single"))return;while(e=e.parentNode);r._c||(r._b=a(function(){r.hide()},50)),r._c=!1},r._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,i=t;if(t){!n&&l(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),s(t,"change",r._onChange)));do if(l(i,"pika-single")||i===c.trigger)return;while(i=i.parentNode);r._v&&t!==c.trigger&&i!==c.trigger&&r.hide()}},r.el=i.createElement("div"),r.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),s(r.el,"ontouchend"in i?"ontouchend":"mousedown",r._onMouseDown,!0),s(r.el,"change",r._onChange),c.field&&(c.container?c.container.appendChild(r.el):c.bound?i.body.appendChild(r.el):c.field.parentNode.insertBefore(r.el,c.field.nextSibling),s(c.field,"change",r._onInputChange),c.defaultDate||(t&&c.field.value?c.defaultDate=e(c.field.value,c.format).toDate():c.defaultDate=new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));var u=c.defaultDate;h(u)?c.setDefaultDate?r.setDate(u,!0):r.gotoDate(u):r.gotoDate(new Date),c.bound?(this.hide(),r.el.className+=" is-bound",s(c.trigger,"click",r._onInputClick),s(c.trigger,"focus",r._onInputFocus),s(c.trigger,"blur",r._onInputBlur)):this.show()};return S.prototype={config:function(e){this._o||(this._o=y({},w,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,h(t.minDate)||(t.minDate=!1),h(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&(g(t.maxDate),t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth()),f(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return h(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",r(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),h(e)){var n=this._o.minDate,i=this._o.maxDate;h(n)&&n>e?e=n:h(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),g(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),r(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(h(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),a=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=a<n.getTime()||i.getTime()<a}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=b({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){g(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,i=t.maxYear,s=t.minMonth,o=t.maxMonth,r="";this._y<=n&&(this._y=n,!isNaN(s)&&this._m<s&&(this._m=s)),this._y>=i&&(this._y=i,!isNaN(o)&&this._m>o&&(this._m=o));for(var c=0;c<t.numberOfMonths;c++)r+='<div class="pika-lendar">'+Y(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year)+this.render(this.calendars[c].year,this.calendars[c].month)+"</div>";if(this.el.innerHTML=r,t.bound&&"hidden"!==t.field.type&&a(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var l=this;a(function(){l._o.onDraw.call(l)},0)}}},adjustPosition:function(){if(!this._o.container){var e,t,n,a=this._o.trigger,s=a,o=this.el.offsetWidth,r=this.el.offsetHeight,c=window.innerWidth||i.documentElement.clientWidth,l=window.innerHeight||i.documentElement.clientHeight,u=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop;if("function"==typeof a.getBoundingClientRect)n=a.getBoundingClientRect(),e=n.left+window.pageXOffset,t=n.bottom+window.pageYOffset;else for(e=s.offsetLeft,t=s.offsetTop+s.offsetHeight;s=s.offsetParent;)e+=s.offsetLeft,t+=s.offsetTop;(this._o.reposition&&e+o>c||this._o.position.indexOf("right")>-1&&e-o+a.offsetWidth>0)&&(e=e-o+a.offsetWidth),(this._o.reposition&&t+r>l+u||this._o.position.indexOf("top")>-1&&t-r-a.offsetHeight>0)&&(t=t-r-a.offsetHeight),this.el.style.cssText=["position: absolute","left: "+e+"px","top: "+t+"px"].join(";")}},render:function(e,t){var n=this._o,i=new Date,a=_(e,t),s=new Date(e,t,1).getDay(),o=[],r=[];g(i),n.firstDay>0&&(s-=n.firstDay,0>s&&(s+=7));for(var c=a+s,l=c;l>7;)l-=7;c+=7-l;for(var u=0,d=0;c>u;u++){var f=new Date(e,t,1+(u-s)),m=h(this._d)?v(f,this._d):!1,y=v(f,i),b=s>u||u>=a+s,w=n.minDate&&f<n.minDate||n.maxDate&&f>n.maxDate||n.disableWeekends&&p(f)||n.disableDayFn&&n.disableDayFn(f);r.push(D(1+(u-s),t,e,m,y,w,b)),7===++d&&(n.showWeekNumber&&r.unshift($(u-s,t,e)),o.push(M(r,n.isRTL)),r=[],d=0)}return T(n,o)},isVisible:function(){return this._v},show:function(){this._v||(d(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(s(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&o(i,"click",this._onClick),this.el.style.cssText="",u(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"change",this._onChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},S})}),define("lib/components/pickDate/1.0.0/moment",[],function(e,t,n){(function(t){function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e,t){return function(n){return f(e.call(this,n),t)}}function s(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function o(){}function r(e){$(e),l(this,e)}function c(e){var t=v(e),n=t.year||0,i=t.month||0,a=t.week||0,s=t.day||0,o=t.hour||0,r=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*r+36e5*o,this._days=+s+7*a,this._months=+i+12*n,this._data={},this._bubble()}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function u(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&ve.hasOwnProperty(t)&&(n[t]=e[t]);return n}function d(e){return 0>e?Math.ceil(e):Math.floor(e)}function f(e,t,n){for(var i=""+Math.abs(e),a=e>=0;i.length<t;)i="0"+i;return(a?n?"+":"":"-")+i}function h(e,t,n,i){var a,s,o=t._milliseconds,r=t._days,c=t._months;o&&e._d.setTime(+e._d+o*n),(r||c)&&(a=e.minute(),s=e.hour()),r&&e.date(e.date()+r*n),c&&e.month(e.month()+c*n),o&&!i&&se.updateOffset(e),(r||c)&&(e.minute(a),e.hour(s))}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function _(e,t,n){var i,a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&b(e[i])!==b(t[i]))&&o++;return o+s}function g(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Re[e]||Ue[t]||t}return e}function v(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=g(n),t&&(i[t]=e[n]));return i}function y(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}se[e]=function(a,s){var o,r,c=se.fn._lang[e],l=[];if("number"==typeof a&&(s=a,a=t),r=function(e){var t=se().utc().set(i,e);return c.call(se.fn._lang,t,a||"")},null!=s)return r(s);for(o=0;n>o;o++)l.push(r(o));return l}}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function w(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function k(e){return D(e)?366:365}function D(e){return e%4===0&&e%100!==0||e%400===0}function $(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[de]<0||e._a[de]>11?de:e._a[fe]<1||e._a[fe]>w(e._a[ue],e._a[de])?fe:e._a[he]<0||e._a[he]>23?he:e._a[pe]<0||e._a[pe]>59?pe:e._a[me]<0||e._a[me]>59?me:e._a[_e]<0||e._a[_e]>999?_e:-1,e._pf._overflowDayOfYear&&(ue>t||t>fe)&&(t=fe),e._pf.overflow=t)}function M(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function C(e){return e?e.toLowerCase().replace("_","-"):e}function x(e,t){return t._isUTC?se(e).zone(t._offset||0):se(e).local()}function Y(e,t){return t.abbr=e,ge[e]||(ge[e]=new o),ge[e].set(t),ge[e]}function T(e){delete ge[e]}function S(e){var t,n,i,a,s=0,o=function(e){if(!ge[e]&&ye)try{}catch(t){}return ge[e]};if(!e)return se.fn._lang;if(!p(e)){if(n=o(e))return n;e=[e]}for(;s<e.length;){for(a=C(e[s]).split("-"),t=a.length,i=C(e[s+1]),i=i?i.split("-"):null;t>0;){if(n=o(a.slice(0,t).join("-")))return n;if(i&&i.length>=t&&_(a,i,!0)>=t-1)break;t--}s++}return se.fn._lang}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function O(e){var t,n,i=e.match(De);for(t=0,n=i.length;n>t;t++)i[t]=Xe[i[t]]?Xe[i[t]]:I(i[t]);return function(a){var s="";for(t=0;n>t;t++)s+=i[t]instanceof Function?i[t].call(a,e):i[t];return s}}function N(e,t){return e.isValid()?(t=P(t,e.lang()),Qe[t]||(Qe[t]=O(t)),Qe[t](e)):e.lang().invalidDate()}function P(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for($e.lastIndex=0;i>=0&&$e.test(e);)e=e.replace($e,n),$e.lastIndex=0,i-=1;return e}function F(e,t){var n,i=t._strict;switch(e){case"DDDD":return Le;case"YYYY":case"GGGG":case"gggg":return i?je:xe;case"Y":case"G":
case"g":return Be;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?Je:Ye;case"S":if(i)return Pe;case"SS":if(i)return Fe;case"SSS":if(i)return Le;case"DDD":return Ce;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Se;case"a":case"A":return S(t._l)._meridiemParse;case"X":return Ne;case"Z":case"ZZ":return Ie;case"T":return Oe;case"SSSS":return Te;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Fe:Me;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Me;default:return n=new RegExp(G(z(e.replace("\\","")),"i"))}}function L(e){e=e||"";var t=e.match(Ie)||[],n=t[t.length-1]||[],i=(n+"").match(He)||["-",0,0],a=+(60*i[1])+b(i[2]);return"+"===i[0]?-a:a}function j(e,t,n){var i,a=n._a;switch(e){case"M":case"MM":null!=t&&(a[de]=b(t)-1);break;case"MMM":case"MMMM":i=S(n._l).monthsParse(t),null!=i?a[de]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[fe]=b(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=b(t));break;case"YY":a[ue]=b(t)+(b(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":a[ue]=b(t);break;case"a":case"A":n._isPm=S(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":a[he]=b(t);break;case"m":case"mm":a[pe]=b(t);break;case"s":case"ss":a[me]=b(t);break;case"S":case"SS":case"SSS":case"SSSS":a[_e]=b(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=L(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function J(e){var t,n,i,a,s,o,r,c,l,u,d=[];if(!e._d){for(i=E(e),e._w&&null==e._a[fe]&&null==e._a[de]&&(s=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[ue]?se().weekYear():e._a[ue]},o=e._w,null!=o.GG||null!=o.W||null!=o.E?r=K(s(o.GG),o.W||1,o.E,4,1):(c=S(e._l),l=null!=o.d?Q(o.d,c):null!=o.e?parseInt(o.e,10)+c._week.dow:0,u=parseInt(o.w,10)||1,null!=o.d&&l<c._week.dow&&u++,r=K(s(o.gg),u,l,c._week.doy,c._week.dow)),e._a[ue]=r.year,e._dayOfYear=r.dayOfYear),e._dayOfYear&&(a=null==e._a[ue]?i[ue]:e._a[ue],e._dayOfYear>k(a)&&(e._pf._overflowDayOfYear=!0),n=U(a,0,e._dayOfYear),e._a[de]=n.getUTCMonth(),e._a[fe]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=d[t]=i[t];for(;7>t;t++)e._a[t]=d[t]=null==e._a[t]?2===t?1:0:e._a[t];d[he]+=b((e._tzm||0)/60),d[pe]+=b((e._tzm||0)%60),e._d=(e._useUTC?U:R).apply(null,d)}}function B(e){var t;e._d||(t=v(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],J(e))}function E(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function W(e){e._a=[],e._pf.empty=!0;var t,n,i,a,s,o=S(e._l),r=""+e._i,c=r.length,l=0;for(i=P(e._f,o).match(De)||[],t=0;t<i.length;t++)a=i[t],n=(r.match(F(a,e))||[])[0],n&&(s=r.substr(0,r.indexOf(n)),s.length>0&&e._pf.unusedInput.push(s),r=r.slice(r.indexOf(n)+n.length),l+=n.length),Xe[a]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(a),j(a,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(a);e._pf.charsLeftOver=c-l,r.length>0&&e._pf.unusedInput.push(r),e._isPm&&e._a[he]<12&&(e._a[he]+=12),e._isPm===!1&&12===e._a[he]&&(e._a[he]=0),J(e),$(e)}function z(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a})}function G(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(e){var t,n,a,s,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)o=0,t=l({},e),t._pf=i(),t._f=e._f[s],W(t),M(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==a||a>o)&&(a=o,n=t));l(e,n||t)}function q(e){var t,n,i=e._i,a=Ee.exec(i);if(a){for(e._pf.iso=!0,t=0,n=ze.length;n>t;t++)if(ze[t][1].exec(i)){e._f=ze[t][0]+(a[6]||" ");break}for(t=0,n=Ge.length;n>t;t++)if(Ge[t][1].exec(i)){e._f+=Ge[t][0];break}i.match(Ie)&&(e._f+="Z"),W(e)}else e._d=new Date(i)}function A(e){var n=e._i,i=be.exec(n);n===t?e._d=new Date:i?e._d=new Date(+i[1]):"string"==typeof n?q(e):p(n)?(e._a=n.slice(0),J(e)):m(n)?e._d=new Date(+n):"object"==typeof n?B(e):e._d=new Date(n)}function R(e,t,n,i,a,s,o){var r=new Date(e,t,n,i,a,s,o);return 1970>e&&r.setFullYear(e),r}function U(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function Q(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Z(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function V(e,t,n){var i=le(Math.abs(e)/1e3),a=le(i/60),s=le(a/60),o=le(s/24),r=le(o/365),c=45>i&&["s",i]||1===a&&["m"]||45>a&&["mm",a]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",le(o/30)]||1===r&&["y"]||["yy",r];return c[2]=t,c[3]=e>0,c[4]=n,Z.apply({},c)}function X(e,t,n){var i,a=n-t,s=n-e.day();return s>a&&(s-=7),a-7>s&&(s+=7),i=se(e).add("d",s),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function K(e,t,n,i,a){var s,o,r=U(e,0,1).getUTCDay();return n=null!=n?n:a,s=a-r+(r>i?7:0)-(a>r?7:0),o=7*(t-1)+(n-a)+s+1,{year:o>0?e:e-1,dayOfYear:o>0?o:k(e-1)+o}}function ee(e){var t=e._i,n=e._f;return null===t?se.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=S().preparse(t)),se.isMoment(t)?(e=u(t),e._d=new Date(+t._d)):n?p(n)?H(e):W(e):A(e),new r(e))}function te(e,t){se.fn[e]=se.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),se.updateOffset(this),this):this._d["get"+n+t]()}}function ne(e){se.duration.fn[e]=function(){return this._data[e]}}function ie(e,t){se.duration.fn["as"+e]=function(){return+this/t}}function ae(e){var t=!1,n=se;"undefined"==typeof ender&&(e?(ce.moment=function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},l(ce.moment,n)):ce.moment=se)}for(var se,oe,re="2.5.1",ce=this,le=Math.round,ue=0,de=1,fe=2,he=3,pe=4,me=5,_e=6,ge={},ve={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},ye="undefined"!=typeof n&&n.exports&&"undefined"!=typeof e,be=/^\/?Date\((\-?\d+)/i,we=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ke=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,De=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,$e=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Me=/\d\d?/,Ce=/\d{1,3}/,xe=/\d{1,4}/,Ye=/[+\-]?\d{1,6}/,Te=/\d+/,Se=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ie=/Z|[\+\-]\d\d:?\d\d/gi,Oe=/T/i,Ne=/[\+\-]?\d+(\.\d{1,3})?/,Pe=/\d/,Fe=/\d\d/,Le=/\d{3}/,je=/\d{4}/,Je=/[+-]?\d{6}/,Be=/[+-]?\d+/,Ee=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,We="YYYY-MM-DDTHH:mm:ssZ",ze=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ge=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],He=/([\+\-]|\d\d)/gi,qe="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Ae={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Re={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ue={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Qe={},Ze="DDD w W M D d".split(" "),Ve="M D H h m s w W".split(" "),Xe={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+f(Math.abs(e),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return b(this.milliseconds()/100)},SS:function(){return f(b(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+f(b(e/60),2)+":"+f(b(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+f(b(e/60),2)+f(b(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Ke=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Ze.length;)oe=Ze.pop(),Xe[oe+"o"]=s(Xe[oe],oe);for(;Ve.length;)oe=Ve.pop(),Xe[oe+oe]=a(Xe[oe],2);for(Xe.DDDD=a(Xe.DDD,3),l(o.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=se.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=se([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,i):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return X(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),se=function(e,n,a,s){var o;return"boolean"==typeof a&&(s=a,a=t),o={},o._isAMomentObject=!0,o._i=e,o._f=n,o._l=a,o._strict=s,o._isUTC=!1,o._pf=i(),ee(o)},se.utc=function(e,n,a,s){var o;return"boolean"==typeof a&&(s=a,a=t),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=a,o._i=e,o._f=n,o._strict=s,o._pf=i(),ee(o).utc()},se.unix=function(e){return se(1e3*e)},se.duration=function(e,t){var n,i,a,s=e,o=null;return se.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(o=we.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:b(o[fe])*n,h:b(o[he])*n,m:b(o[pe])*n,s:b(o[me])*n,ms:b(o[_e])*n}):(o=ke.exec(e))&&(n="-"===o[1]?-1:1,a=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},s={y:a(o[2]),M:a(o[3]),d:a(o[4]),h:a(o[5]),m:a(o[6]),s:a(o[7]),w:a(o[8])}),i=new c(s),se.isDuration(e)&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},se.version=re,se.defaultFormat=We,se.updateOffset=function(){},se.lang=function(e,t){var n;return e?(t?Y(C(e),t):null===t?(T(e),e="en"):ge[e]||S(e),n=se.duration.fn._lang=se.fn._lang=S(e),n._abbr):se.fn._lang._abbr},se.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),S(e)},se.isMoment=function(e){return e instanceof r||null!=e&&e.hasOwnProperty("_isAMomentObject")},se.isDuration=function(e){return e instanceof c},oe=Ke.length-1;oe>=0;--oe)y(Ke[oe]);for(se.normalizeUnits=function(e){return g(e)},se.invalid=function(e){var t=se.utc(NaN);return null!=e?l(t._pf,e):t._pf.userInvalidated=!0,t},se.parseZone=function(e){return se(e).parseZone()},l(se.fn=r.prototype,{clone:function(){return se(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=se(this).utc();return 0<e.year()&&e.year()<=9999?N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return M(this)},isDSTShifted:function(){return this._a?this.isValid()&&_(this._a,(this._isUTC?se.utc(this._a):se(this._a)).toArray())>0:!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=N(this,e||se.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?se.duration(+t,e):se.duration(e,t),h(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?se.duration(+t,e):se.duration(e,t),h(this,n,-1),this},diff:function(e,t,n){var i,a,s=x(e,this),o=6e4*(this.zone()-s.zone());return t=g(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+s.daysInMonth()),a=12*(this.year()-s.year())+(this.month()-s.month()),a+=(this-se(this).startOf("month")-(s-se(s).startOf("month")))/i,a-=6e4*(this.zone()-se(this).startOf("month").zone()-(s.zone()-se(s).startOf("month").zone()))/i,"year"===t&&(a/=12)):(i=this-s,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?a:d(a)},from:function(e,t){return se.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(se(),e)},calendar:function(){var e=x(se(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return D(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Q(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),se.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=g(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=g(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+se(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+se(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+x(e,this).startOf(t)},min:function(e){return e=se.apply(null,arguments),this>e?this:e},max:function(e){return e=se.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=L(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&h(this,se.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?se(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(e){var t=le((se(this).startOf("day")-se(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(e){var t=X(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=X(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=X(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=g(e),this[e]()},set:function(e,t){return e=g(e),"function"==typeof this[e]&&this[e](t),this},lang:function(e){return e===t?this._lang:(this._lang=S(e),this)}}),oe=0;oe<qe.length;oe++)te(qe[oe].toLowerCase().replace(/s$/,""),qe[oe]);te("year","FullYear"),se.fn.days=se.fn.day,se.fn.months=se.fn.month,se.fn.weeks=se.fn.week,se.fn.isoWeeks=se.fn.isoWeek,se.fn.toJSON=se.fn.toISOString,l(se.duration.fn=c.prototype,{_bubble:function(){var e,t,n,i,a=this._milliseconds,s=this._days,o=this._months,r=this._data;r.milliseconds=a%1e3,e=d(a/1e3),r.seconds=e%60,t=d(e/60),r.minutes=t%60,n=d(t/60),r.hours=n%24,s+=d(n/24),r.days=s%30,o+=d(s/30),r.months=o%12,i=d(o/12),r.years=i},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)},humanize:function(e){var t=+this,n=V(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=se.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=se.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=g(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=g(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:se.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),a=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||a||s?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(s?s+"S":""):"P0D"}});for(oe in Ae)Ae.hasOwnProperty(oe)&&(ie(oe,Ae[oe]),ne(oe.toLowerCase()));ie("Weeks",6048e5),se.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},se.lang("en",{ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),ye?(n.exports=se,ae(!0)):"function"==typeof define&&define.amd?define("moment",function(e,n,i){return i.config&&i.config()&&i.config().noGlobal!==!0&&ae(i.config().noGlobal===t),se}):ae()}).call(this)});