define("lib/page/wallet-addcard",["lib/template/tempcomment","lib/components/minBar/1.0.1/minBar","lib/components/khValidate/1.0.0/khValidate","lib/components/khSelect/1.0.0/khSelect","lib/components/khSelectAddress/1.0.0/khSelectAddress"],function(a,t,i){function n(){var a=$("input[name='valProvince']").val().replace(/\s/g,""),t=$("input[name='valCity']").val().replace(/\s/g,""),i=$("input[name='valArea']").val().replace(/\s/g,"");return""===a||""===t||""===i?($(".address-select .danger-tip").html('<i class="icon-tip-wrong"></i>所在地不能为空').show(),_=!1,!1):($(".address-select .danger-tip").hide(),void(_=!0))}function e(){$("input[name='cardno']").bind("focus",function(){$(this).siblings(".danger-tip").hide()}),$("input[name='cardno']").bind("blur",function(a){$(this).addClass("bcB4").removeClass("bcC13D23");var t=$(this).val().replace(/\s/g,""),i=this;if(""!==t){if(!v.chkBankAcount(t))return $(this).addClass("bcC13D23").removeClass("bcB4"),$(this).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>输入格式有误').show(),k=!1,u(),!1;$.ajax({url:cdnConfig.my+"/predeposit/checkcardno",data:{cardno:$("input[name='cardno']").val()},dataType:"json"}).done(function(a){"200"==a.code.toString()?($(i).siblings(".icon-tip-ok").show(),k=!0,u()):"400"==a.code.toString()&&($(i).addClass("bcC13D23").removeClass("bcB4"),$(i).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>输入格式有误').show(),k=!1,u())}).fail(function(){$(i).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>发送失败，请检查网络是否通畅').show()})}else if(""===t)return $(this).addClass("bcC13D23").removeClass("bcB4"),$(this).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>银行卡号不能为空').show(),k=!1,u(),!1})}function s(){$("input[name='bankname']").bind("focus",function(){$(this).siblings(".danger-tip").hide()}),$("input[name='bankname']").bind("blur",function(a){$(this).addClass("bcB4").removeClass("bcC13D23");var t=$(this).val().replace(/\s/g,"");if(""!==t){if(!v.chkCnName(t))return $(this).addClass("bcC13D23").removeClass("bcB4"),$(this).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>输入格式有误').show(),w=!1,u(),!1;$(this).siblings(".icon-tip-ok").show(),w=!0,u()}else if(""===t)return $(this).addClass("bcC13D23").removeClass("bcB4"),$(this).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>开户行不能为空').show(),w=!1,u(),!1})}function l(){$("input[name='username']").bind("focus",function(){$(this).siblings(".danger-tip").hide()}),$("input[name='username']").bind("blur",function(a){$(this).addClass("bcB4").removeClass("bcC13D23");var t=$(this).val().replace(/\s/g,"");if(""!==t){if(!v.chkCnName(t))return $(this).addClass("bcC13D23").removeClass("bcB4"),$(this).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>输入格式有误').show(),J=!1,u(),!1;$(this).siblings(".icon-tip-ok").show(),J=!0,u()}else if(""===t)return $(this).addClass("bcC13D23").removeClass("bcB4"),$(this).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>开户人姓名不能为空').show(),J=!1,u(),!1})}function r(){$("input[name='phoneCode']").bind("focus",function(){$(this).siblings(".danger-tip").hide()}),$("input[name='phoneCode']").bind("blur",function(a){$(this).addClass("bcB4").removeClass("bcC13D23");var t=$(this).val().replace(/\s/g,""),i=this;if(""!==t){if(!v.chkNumber(t,6))return $(this).addClass("bcC13D23").removeClass("bcB4"),$(this).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>请输入6位数字验证码').show(),C=!1,u(),!1;$.ajax({url:cdnConfig.my+"/ajax/checkphonecode",data:{phone_code:t},dataType:"jsonp",success:function(a){"200"==a.code.toString()?($(i).siblings(".icon-tip-ok").show(),C=!0,u()):"400"==a.code.toString()&&(C=!1,$(i).addClass("bcC13D23").removeClass("bcB4"),$(i).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>'+a.message).show(),u())},error:function(){$(i).addClass("bcC13D23").removeClass("bcB4"),$(i).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>发送失败，请检查网络是否通畅').show(),C=!1,u()}})}else if(""===t)return $(this).addClass("bcC13D23").removeClass("bcB4"),$(this).siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>短信验证码不能为空').show(),C=!1,u(),!1})}function c(){$(".sendcode").on("click",function(){var a=$('input[name="phone"]'),t=a.val().replace(/\s/g,"");return/^(13[0-9]|15[0-9]|17[0-9]|18[0-9])\d{8}$/.test(t)?void o($("input[name='phoneCode']"),t):(a.siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>手机有误，请检查手机是否正确').show(),!1)})}function o(a,t){return x>=3?void a.siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>您本次发送手机验证码次数已经用完,请刷新页面重试').show():(x++,d(60,$(".sendcode"),$(".countdown")),void $.ajax({url:cdnConfig.my+"/ajax/sendsms",data:{phone:t,type:7,h:$("#security").val(),m:$("#security").attr("name"),n:x,r:Math.random()},dataType:"json"}).done(function(t){"200"==t.code.toString()?a.siblings(".danger-tip").hide():"400"==t.code.toString()&&a.siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>'+t.message).show()}).fail(function(){a.siblings(".danger-tip").html('<i class="icon-tip-wrong"></i>发送失败，请检查网络是否通畅').show()}))}function d(a,t,i){t.addClass("t999"),i.css("display","inline-block").html(a+"秒");var n=setInterval(function(){0>=a?(clearInterval(n),t.removeClass("t999").text("重新获取"),i.hide()):(a-=1,i.html(a+"秒"))},1e3)}function p(a){var t=$("#security");t.val(a[1]),t.attr("name",a[0])}function u(){n(),_&&k&&J&&C&&w?$("#J_submit").attr("class","active"):$("#J_submit").attr("class","inactive")}function m(){$("#J_submit").bind("click",function(){$("#J_submit").hasClass("active")?(n(),$("input[name='cardno']").blur(),$("input[name='bankname']").blur(),$("input[name='username']").blur(),$("input[name='phoneCode']").blur(),_&&k&&J&&C&&w&&$.ajax({url:cdnConfig.my+"/predeposit/addcard",data:{provinceid:$("input[name='valProvince']").val(),cityid:$("input[name='valCity']").val(),areaid:$("input[name='valArea']").val(),bankname:$("input[name='bankname']").val(),cardno:$("input[name='cardno']").val(),usrname:$("input[name='username']").val(),h:$("#security").val(),m:$("#security").attr("name"),n:x,r:Math.random()},dataType:"json"}).done(function(a){"200"==a.code.toString()?(p(a.pin),1==location.search.match(new RegExp("[?&]cash=([^&]*)(&?)","i"))[1]?location.assign(cdnConfig.my+"/predeposit/addcash"):location.assign(cdnConfig.my+"/predeposit/cardlist")):"400"==a.code.toString()&&alert(a.message)}).fail(function(){alert("发送失败，请检查网络是否通畅")})):$("#J_submit").attr("class","inactive")})}var h=a("../template/tempcomment"),f=a("../components/minBar/1.0.1/minBar"),v=a("../components/khValidate/1.0.0/khValidate"),g=a("../components/khSelect/1.0.0/khSelect"),b=a("../components/khSelectAddress/1.0.0/khSelectAddress");f({mainCell:"#J_minBar",pathConfig:cdnConfig,tpl:h,tplName:"tplMinBar",data:_globalConfig.minBar.data}),document.getElementById("J_memberAside").innerHTML=document.getElementById("J_templateMemberAside").innerHTML;var y={};$("#J_selectAddress").html(h("tplSelectAddress",y)),b({selectModule:g}),$(function(){e(),s(),l(),r(),c(),m()});var _=!1,k=!1,w=!1,J=!1,C=!1,x=0}),!function(){function a(a,t){return(/string|function/.test(typeof t)?r:l)(a,t)}function t(a,i){return"string"!=typeof a&&(i=typeof a,"number"===i?a+="":a="function"===i?t(a.call(a)):""),a}function i(a){return p[a]}function n(a){return t(a).replace(/&(?![\w#]+;)|[<>"']/g,i)}function e(a,t){if(u(a))for(var i=0,n=a.length;n>i;i++)t.call(a,a[i],i,a);else for(i in a)t.call(a,a[i],i)}function s(a,t){var i=/(\/)[^/]+\1\.\.\1/,n=("./"+a).replace(/[^/]+$/,""),e=n+t;for(e=e.replace(/\/\.\//g,"/");e.match(i);)e=e.replace(i,"/");return e}function l(t,i){var n=a.get(t)||c({filename:t,name:"Render Error",message:"Template not found"});return i?n(i):n}function r(a,t){if("string"==typeof t){var i=t;t=function(){return new d(i)}}var n=o[a]=function(i){try{return new t(i,a)+""}catch(n){return c(n)()}};return n.prototype=t.prototype=m,n.toString=function(){return t+""},n}function c(a){var t="{Template Error}",i=a.stack||"";if(i)i=i.split("\n").slice(0,2).join("\n");else for(var n in a)i+="<"+n+">\n"+a[n]+"\n\n";return function(){return"object"==typeof console&&console.error(t+"\n\n"+i),t}}var o=a.cache={},d=this.String,p={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},u=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=a.utils={$helpers:{},$include:function(a,t,i){return a=s(i,a),l(a,t)},$string:t,$escape:n,$each:e},h=a.helpers=m.$helpers;a.get=function(a){return o[a.replace(/^\.\//,"")]},a.helper=function(a,t){h[a]=t},"function"==typeof define?define("lib/template/tempcomment",[],function(t,i,n){return a}):"undefined"!=typeof exports?module.exports=a:this.template=a,a("tplAddressForm",function(a,t){"use strict";var i=this,n=(i.$helpers,i.$escape),e=a.actionURL,s=a.addressID,l=a.userName,r=a.address,c=a.telephone,o=a.mobilephone,p=a.defaultAdd,u="";return u+='<form id="J_addressForm" action="',u+=n(e),u+='" method="post"> <input type="hidden" name="addressID" value="',u+=n(s),u+='"> <table id="J_add" class="person-address-add-table"> <tbody class="person-address"> <tr class="item"> <th class="address-add-head">收货人：</th> <td> <input id="J_userName" class="person-address-add-input" name="userName" value="',u+=n(l),u+='" /> <span class="fc-f60">*</span> </td> </tr> <tr class="item"> <th class="address-add-head">详细地址：</th> <td id="J_selectAddress"></td> </tr> <tr class="item"> <th>&nbsp;</th> <td> <p> <input id="J_address" class="person-address-add-input detailed-address-input" name="address" placeholder="具体地址" value="',u+=n(r),u+='" /> <span class="fc-f60">*</span> </p> <p> <label class="person-address-add-tip">&nbsp;&nbsp;&nbsp;(不需要重复填写省/市/区)</label> </p> </td> </tr> <tr class="item"> <th class="address-add-head">固定电话：</th> <td> <input id="J_tel" class="person-address-add-input" name="tel" value="',u+=n(c),u+='" /> <label class="person-address-add-tip"><span>*</span>&nbsp;&nbsp;（示例：020-88888888-999）</label> </td> </tr> <tr class="item"> <th class="address-add-head">手机：</th> <td> <input id="J_phone" class="person-address-add-input" name="phone" value="',u+=n(o),u+='" /> <label class="person-address-add-tip"><span>*</span>&nbsp;&nbsp;（手机或固话必填一项）</label> </td> </tr> <tr class="item"> <th>&nbsp;</th> <td> <div class="defult-address-choose"> ',u+="1"==p?' <a id="J_setDefault" href="javascript:void(0);" class="icon icon-box-checked"></a> ':' <a id="J_setDefault" href="javascript:void(0);" class="icon icon-box-normal"></a> ',u+=' <span class="address-font-gray">设为默认地址</span> <input type="hidden" name="setDefault" value="',u+=n(p),u+='" /> </div> </td> </tr> </tbody> </table> </form>',new d(u)}),a("tplBottomAd",function(a,t){"use strict";var i=this,n=(i.$helpers,a.link),e=i.$escape,s=a.linkURL,l=a.title,r=a.imgURL,c="";return c+='<div class="full-ad-wrap" style="width: 100%; overflow: hidden;"> <div style="background:url(http://misc.jjcdn.com/p/images/loading-t.gif) center center no-repeat;"> <a href="',""!=n&&(c+=e(n)),""!=s&&(c+=e(s)),c+='" target="_blank" title="',c+=e(l),c+='" style=" display:block; width:100%;min-height: 80px;background:url(',c+=e(r),c+=') center top no-repeat; "> <img src="',c+=e(r),c+='" style="visibility: hidden;display: block" /> </a> <a href="javascript:void(0);" class="full-ad-close" id="J_itemBottomAdClose"><span></span></a> </div> </div>',new d(c)}),a("tplEditPassForm",function(a,t){"use strict";var i=this,n=(i.$helpers,i.$escape),e=a.actionURL,s="";return s+='<form id="J_editPassForm" action="',s+=n(e),s+='" method="post"> <div class="fc-8c8">为了您的账户安全，请定期更换登录密码，并确保登录密码设置与提现密码不同。</div> <input type="hidden" name="form" value="form"> <div class="a-edit-pass-tr"> <p id="J_oldPass" class="edit-input-wrap"> <input type="password" name="old_passwd" placeholder="原密码" class="JQ_editPassOption" /> </p> <p class="edit-pass-tip"></p> </div> <div class="a-edit-pass-tr fc-8c8"> <p id="J_newPass" class="edit-input-wrap"> <input type="password" name="new_passwd" placeholder="输入新密码" class="JQ_editPassOption" /> </p> <p class="edit-pass-tip"></p> </div> <div class="a-edit-pass-tr fc-8c8"> <p id="J_confirmNewPass" class="edit-input-wrap"> <input type="password" name="confirmNewPass" placeholder="再次输入新密码" class="JQ_editPassOption" /> </p> <p class="edit-pass-tip"></p> </div> </form>',new d(s)}),a("tplFloatNav",'<div id="J_floatNav" class="float-nav"> <a href="http://chat10.live800.com/live800/chatClient/chatbox.jsp?companyID=201143&jid=2104161973" class="float-nav-char-wrap JQ_floatNavNormal" target="_blank"> <span class="floag-online-chat">在线客服</span> <i class="icon-float-chat normal-icon"></i> </a> <a href="http://crm2.qq.com/page/portalpage/wpa.php?uin=4006538038&aty=0&a=0&curl=&ty=1" class="float-nav-qq JQ_floatNavNormal" target="_blank"> <span>QQ客服</span> <i class="icon-float-qq normal-icon"></i> </a> <a href="http://cart.kinhom.com/list.html" class="float-nav-cart JQ_floatNavNormal" target="_blank"> <span>购物车</span> <i class="icon-float-cart normal-icon"></i> <i class="icon-cart-num num-icon">0</i> </a> <a href="javascript:void(0);" class="float-nav-wechat JQ_floatNavWechat"> <span> <img src="http://misc.jjcdn.com/p/images/float_wechat.png" width="40" height="40" /> </span> <i class="icon-float-wechat normal-icon"></i> </a> <a href="http://www.wenjuan.com/s/qU36f2/" target="_blank" class="float-nav-feedback JQ_floatNavNormal"> <span>意见反馈</span> <i class="icon-float-feedback normal-icon"></i> </a> <a id="J_floatGoTop" href="javascript:void(0);" class="float-nav-top JQ_floatNavNormal"> <span>返回顶部</span> <i class="icon-float-top normal-icon"></i> </a> </div>'),a("tplLoginDialog",'<div class="login-dialog"> <div class="login-dialog-form"> <form action="javascript:void(0);" method="post"> <p class="login-dialog-form-tr" id="J_loginUserName"> <label>用户名：</label> <input type="text" name="loginUserName" placeholder="输入用户名/邮箱/手机"> </p> <p class="login-dialog-form-tip"></p> <p class="login-dialog-form-tr" id="J_loginPassword"> <label>密&nbsp;&nbsp;&nbsp;码：</label> <input type="password" name="loginPassword" placeholder="输入密码"> </p> <p class="login-dialog-form-tip"></p> </form> </div> </div> '),a("tplMinBar",function(a,t){"use strict";var i=this,n=(i.$helpers,i.$escape),e=a.live800,s=a.cdnPath,l=a.wapQQ,r=a.cart,c=a.mobile,o=a.wechat,p=a.feedback,u=a.gotop,m="";return m+=' <section id="J_minBar" class="min-bar"> <div class="min-bar-tabs"> <div class="min-bar-tab min-bar-online"> <div class="min-bar-online-icon"> <a href="',m+=n(e.clientLink),m+='" class="blankLink JQ_minBarOnline" target="_blank"> <img src="',m+=n(s),m+=n(e.iconPath),m+='" width="',m+=n(e.iconWidth),m+='" height="',m+=n(e.iconHeight),m+='" alt="',m+=n(e.iconText),m+='"/> <label class="min-bar-chat-num">',m+=n(e.chatNum),m+='</label> </a> <span class="min-bar-online-pop"> <span class="pop-close">&nbsp;</span> <a href="',m+=n(e.clientLink),m+='" class="pop-chat" target="_blank">&nbsp;</a> </span> </div> </div> <div class="min-bar-tab min-bar-qq min-text"> <div class="min-bar-qq-icon"> <a href="',m+=n(l.clientLink),m+='" class="blankLink" target="_blank"> <img src="',m+=n(s),m+=n(l.iconPath),m+='" width="',m+=n(l.iconWidth),m+='" height="',m+=n(l.iconHeight),m+='" alt="',m+=n(l.iconText),m+='"/> </a> <span class="min-bar-qq-text text">',m+=n(l.iconText),m+='</span> </div> </div> <div class="min-bar-tab min-bar-cart min-cart"> <div class="min-bar-cart-icon"> <a href="',m+=n(r.clientLink),m+='" class="icon-float-cart"> <span id="J_cartNum" class="min-bar-cart-num">',m+=n(r.chatNum),m+='</span> </a> </div> <div id="J_minBarPlugin" class="min-bar-plugin"> <div class="bar-plugin-cart"> <ul id="J_pluginCart"> </ul> <div class="plugin-cart-info"> <p class="cart-info-price"> <span class="cart-info-num"> 共 <label id="J_minBarCartNum">0</label> 件商品 </span> <span class="cart-info-total"> 合计: <small>&yen;</small> <label id="J_minBarCartTotal">0</label> </span> </p> <p class="cart-info-shipping">(不含运费)</p> <p class="cart-info-btn"> <a href="javascript:void(0);" id="J_minBarBtn" class="btn-gray" target="_blank">查看购物车</a> </p> </div> </div> </div> </div> <div class="min-bar-tab min-bar-phone min-phone"> <div class="min-bar-phone-icon"> <a href="',m+=n(c.clientLink),m+='" class="icon-float-phone">&nbsp;</a> <span class="min-bar-phone-img phone"> <img src="',m+=n(s),m+=n(c.iconPath),m+='" width="',m+=n(c.iconWidth),m+='" height="',m+=n(c.iconHeight),m+='" alt="',m+=n(c.iconText),m+='" /> </span> </div> </div> <div class="min-bar-tab min-bar-wechat min-wechat"> <div class="min-bar-wechat-icon"> <a href="',m+=n(o.clientLink),m+='" class="icon-float-wechat">&nbsp;</a> <span class="min-bar-wechat-img wechat"> <img src="',m+=n(s),m+=n(o.iconPath),m+='" width="',m+=n(o.iconWidth),m+='" height="',m+=n(o.iconHeight),m+='" alt="',m+=n(o.iconText),m+='" /> </span> </div> </div> <div class="min-bar-tab min-bar-feedback min-text"> <div class="min-bar-feedback-icon"> <a href="',m+=n(p.clientLink),m+='" class="icon-float-feedback blankLink" target="_blank">&nbsp;</a> <span class="min-bar-feedback-text text">',m+=n(p.iconText),m+='</span> </div> </div> <div class="min-bar-tab min-bar-gtop min-text"> <div class="min-bar-gtop-icon" id="J_minBarGoTop"> <a href="',m+=n(u.clientLink),m+='" class="icon-float-top">&nbsp;</a> <span class="min-bar-gtop-text text">',m+=n(u.iconText),m+='</span> </div> </div> </div> </section> <section class="min-bar-mark"></section> ',new d(m)}),a("tplSelectAddress",function(a,t){"use strict";var i=this,n=(i.$helpers,a.valCity),e=i.$escape,s=a.textPro,l=a.valPro,r=a.textCity,c=a.valArea,o=a.textArea,p="";return p+='<div id="J_selectProvience" class="select-gray fl"> <i class="select-corner icon-gray-left"></i> ',""==n?p+=' <label class="JQ_option select-option w90" data-value="0">请选择省</label> ':(p+=' <label class="JQ_option select-option w90" data-value="0">',p+=e(s),p+="</label> "),p+=' <i class="select-corner icon-gray-right"></i> <a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_proList"></ul> <input type="hidden" name="valProvince" value="',p+=e(l),p+='" /> </div> <div class="select-gray fl JQ_addressCity"> <i class="select-corner icon-gray-left"></i> ',""==n?p+=' <label class="JQ_option select-option w90" data-value="0">请选择市</label> ':(p+=' <label class="JQ_option select-option w90" data-value="0">',p+=e(r),p+="</label> "),p+=' <i class="select-corner icon-gray-right"></i> <a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_cityList"></ul> <input type="hidden" name="valCity" value="',p+=e(n),p+='" /> </div> <div class="select-gray fl JQ_addressArea"> <i class="select-corner icon-gray-left"></i> ',""==c?p+=' <label class="JQ_option select-option w90" data-value="0">请选择区</label> ':(p+=' <label class="JQ_option select-option w90" data-value="0">',p+=e(o),p+="</label> "),p+=' <i class="select-corner icon-gray-right"></i> <a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_areaList"></ul> <input type="hidden" name="valArea" value="',p+=e(c),p+='" /> </div> ',new d(p)}),a("tplTopAd",function(a,t){"use strict";var i=this,n=(i.$helpers,a.link),e=i.$escape,s=a.linkURL,l=a.title,r=a.imgURL,c="";return c+='<div class="top-ad-wrap" style="width: 100%; overflow: hidden;"> <div style="background:url(http://misc.jjcdn.com/p/images/loading-t.gif) center center no-repeat;"> <a href="',""!=n&&(c+=e(n)),""!=s&&(c+=e(s)),c+='" target="_blank" title="',c+=e(l),c+='" style=" display:block; width:100%; min-height: 80px; background:url(',c+=e(r),c+=') center top no-repeat; "> <img src="',c+=e(r),c+='" style="visibility: hidden;display: block" /> </a> <a href="javascript:void(0);" class="index-top-ad-close" id="J_indexTopAdClose"> <span></span> </a> </div> </div>',new d(c)})}(),define("lib/components/minBar/1.0.1/minBar",[],function(a,t,i){function n(a){function t(){i(F),g(),f("#J_minBarPlugin"),e($(window).innerWidth()),$(window).resize(function(){e($(window).innerWidth())}),I.each(function(a){var t=$(this);t.on("mouseover",function(a){t.find("span.text").stop(!0,!0).delay(300).animate({right:"40px",opacity:1},300)}).on("mouseleave",function(a){t.find("span.text").stop(!0,!0).animate({right:"-80px",opacity:.1},300)}).on("click",function(a){var i=t.find("a.blankLink").attr("href");try{(i.indexOf("http")>-1||i.indexOf("https")>-1)&&window.open(i)}catch(n){}})}),j.hover(function(){$("#J_minBarPlugin").stop(!0,!0).fadeIn(300),o()},function(){$("#J_minBarPlugin").stop(!0,!0).hide()}),C.on("mouseenter",function(a){$(this).find(".min-bar-wechat-img").stop(!0,!0).css({display:"block"}).delay(200).animate({width:"140px",height:"164px",padding:"5px",top:"-40px",opacity:1},300)}).on("mouseleave",function(a){$(this).find(".min-bar-wechat-img").stop(!0,!0).css({display:"none"}).animate({width:"36px",height:"36px",opacity:0},300)}),x.on("mouseenter",function(a){$(this).find(".min-bar-phone-img").stop(!0,!0).css({display:"block"}).delay(200).animate({width:"160px",height:"250px",top:"-80px",opacity:1},300)}).on("mouseleave",function(a){$(this).find(".min-bar-phone-img").stop(!0,!0).css({display:"none"}).animate({width:"36px",height:"36px",opacity:0},300)}),J.on("click",function(a){$("body,html").stop(!0,!0).animate({scrollTop:0},300)}),T.on("click",function(a){a.preventDefault(),N.fadeOut(300),clearTimeout(U),S?O||(O=!0,i(E)):(S=!0,i(q))}),P.hover(function(){N.stop(!0,!0).fadeIn(300),clearTimeout(U),S?O||(O=!0,i(E)):(S=!0,i(q))},function(){N.stop(!0,!0).fadeOut(300),clearTimeout(U),S?O||(O=!0,i(E)):(S=!0,i(q))}),L.on("click",function(a){N.fadeOut(300),clearTimeout(U),S?O||(O=!0,i(E)):(S=!0,i(q))}),$(document).on("click",".JQ_minBarDelete",function(a){a.preventDefault();var t=$(this).attr("data-id"),i=$(this).parents("li");$.ajax({url:cdnConfig.cartApiPath+"/delete/"+t,dataType:"jsonp",success:function(a){"succ"==a.status?(i.addClass("delItem"),i.fadeOut(300,function(){$(".delItem").remove(),d(),f("#J_minBarPlugin")})):(d(),f("#J_minBarPlugin"))}})})}function i(a){setTimeout(function(){N.fadeIn(200),n(5e3)},a)}function n(a){a=isNaN(a)?5e3:a,U=setTimeout(function(){N.fadeOut(200),S?O||(O=!0,i(E)):(S=!0,i(q))},a)}function e(a){isNaN(a)?a=$(window).innerWidth():a,D>a?(r(),l(),j.on("mouseenter",function(a){a.stopPropagation(),s(),c()}),P.on("mouseenter",function(a){a.stopPropagation(),s(),c()}),A.on("mouseenter",function(a){a.stopPropagation(),s(),c()}),J.on("mouseenter",function(a){a.stopPropagation(),s(),c()}),w.on("mouseleave",function(a){a.stopPropagation(),a.preventDefault(),l(),r()})):(c(),s())}function s(){Q.stop(!0,!0).delay(300).animate({right:"0px"},300)}function l(){Q.stop(!0,!0).delay(300).animate({right:"-40px"},300)}function r(){x.stop(!0,!0).animate({right:"-40px"}),C.stop(!0,!0).animate({right:"-40px"}),B.stop(!0,!0).animate({right:"-40px"})}function c(){x.stop(!0,!0).delay(300).animate({right:"0px"}),C.stop(!0,!0).delay(300).animate({right:"0px"}),B.stop(!0,!0).delay(300).animate({right:"0px"})}function o(){$.ajax({url:cdnConfig.apiPath+"/cart/minilist",dataType:"jsonp",success:function(a){var t="";if("200"==a.code){var i=a.data.list;if(i.length>0)for(var n=0;n<i.length;n++)t+="<li>",t+='<div class="plugin-cart-list-img">',t+='<a href="'+i[n].link+'" target="_blank">',t+='<img src="'+i[n].src+'" width="90" height="60" alt="'+i[n].title+'"/>',t+="</a>",t+="</div>",t+='<div class="plugin-cart-list-title">',t+='<a href="'+i[n].link+'" target="_blank" title="'+i[n].title+'">'+i[n].title+"</a>",t+="</div>",t+='<div class="plugin-cart-list-info">',t+='<p class="list-price">&yen; <span class="JQ_minCartItemPrice">'+i[n].price+"</span></p>",t+='<p class="list-num">x <span class="JQ_minCartItemNum">'+i[n].num+"</span></p>",t+='<input type="hidden" class="JQ_minCartItemTotal" value="'+i[n].price*i[n].num+'" />',t+="</div>",t+='<a class="cart-list-delete-btn JQ_minBarDelete" data-id="'+i[n].cart_id+'" href="javascript:void(0);" target="_blank">x</a>',t+="</li>",v(t,"no")}else t="<li>您的购物车空空的~</li>",v(t,"yes");d(),f("#J_minBarPlugin")},error:function(a){}})}function d(){h(".JQ_minCartItemTotal","#J_minBarCartTotal"),m(".JQ_minCartItemNum","#J_minBarCartNum"),u("#J_minBarBtn","#J_minBarCartNum")}function p(a,t){$(a).html(t)}function u(a,t){var i="http://cart.kinhom.com/list.html",n=$(t),e=$(a);parseInt(n.html())>0?e.removeClass("btn-gray").addClass("btn-orange").attr("href",i):e.removeClass("btn-orange").addClass("btn-gray").attr("href","javascript:void(0);")}function m(a,t){var i=$(t),n=0;if($(a).length>0)$(a).each(function(){n+=parseInt($(this).html())});else{var e="<li>您的购物车空空的~</li>";v(e,"yes"),u("#J_minBarBtn","#J_minBarCartNum")}i.html(n),p("#J_cartNum",n)}function h(a,t){var i=$(t),n=0;$(a).length>0?($(a).each(function(){n+=parseInt($(this).val())}),i.html(n)):i.html(0)}function f(a){var t=$(a),i=t.innerHeight();t.css({top:"50%","margin-top":"-"+parseInt(i/2)+"px"})}function v(a,t){switch(t){case"yes":$("#J_pluginCart").addClass("plugin-cart-empty").removeClass("plugin-cart-list").html(a);break;case"no":$("#J_pluginCart").removeClass("plugin-cart-empty").addClass("plugin-cart-list").html(a)}}function g(){$.ajax({url:cdnConfig.apiPath+"/cart/statistics",dataType:"jsonp",success:function(a){"succ"==a.status?p("#J_cartNum",a.data.num):p("#J_cartNum",0)},error:function(a){}})}var b=a.mainCell||"#J_minBar",y=a.tpl||function(){},_=a.tplName||"comment/tplMinBar",k=a.data||{};$("body").append(y(_,k));var w=b.indexOf("#")>-1?$(b):$("#"+b),J=w.find(".min-bar-gtop"),C=w.find(".min-wechat"),x=w.find(".min-phone"),B=w.find(".min-bar-feedback"),j=w.find(".min-cart"),A=w.find(".min-bar-qq"),P=w.find(".min-bar-online"),Q=$(".min-bar-mark"),N=$(".min-bar-online-pop"),T=$(".pop-close"),L=$(".pop-chat"),D=1280,I=w.find(".min-text"),S=!1,O=!1,F="30000",q="180000",E="180000";t();var U}i.exports=n}),define("lib/components/khValidate/1.0.0/khValidate",[],function(a,t,i){var n={chkEnName:function(a){var t=/^[a-zA-Z|0-9]{3,20}$/;return t.test(a)},chkCnName:function(a){var t=/^[\u2E80-\u9FFF]{2,20}$/;return t.test(a)},chkIsChinese:function(a){var t=/[\u4E00-\u9FA5\uF900-\uFA2D]/;return t.test(a)},chkUserName:function(a){var t=/^[\u2E80-\u9FFF|0-9|a-zA-Z|_]{2,20}$/;return t.test(a)},chkTelephone:function(a){var t=/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/;return t.test(a)},chkPhone:function(a){var t=/^(13[0-9]|15[0-9]|17[0-9]|18[0-9])\d{8}$/;return t.test(a)},chkPass:function(a){var t=/^[a-zA-Z0-9_-]{6,20}$/;return t.test(a)},chkPassNew:function(a){var t=/^[^\u2E80-\uFFA0\s]{6,20}$/;return t.test(a)},chkNumber:function(a,t){var i;switch(t){case 4:i=/^[0-9]{4}$/;break;case 5:i=/^[0-9]{5}$/;break;case 6:i=/^[0-9]{6}$/;break;case 7:i=/^[0-9]{7}$/;break;case 8:i=/^[0-9]{8}$/;break;case 9:i=/^[0-9]{9}$/;break;case 10:i=/^[0-9]{10}$/;break;case 11:i=/^[0-9]{11}$/;break;case 12:i=/^[0-9]{12}$/;break;case 13:i=/^[0-9]{13}$/;break;case 14:i=/^[0-9]{14}$/;break;case 15:i=/^[0-9]{15}$/;break;case 16:i=/^[0-9]{16}$/;break;case 17:i=/^[0-9]{17}$/;break;case 18:i=/^[0-9]{18}$/;break;default:i=/^[0-9]{6}$/}return i.test(a)},chkAliAcount:function(a){var t=/^[0-9]{11}|^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;return t.test(a)},chkBankName:function(a){var t=/^[\u2E80-\u9FFF]{4,20}$/;return t.test(a)},chkBankAcount:function(a){var t=/^[0-9]{15,23}$/;return t.test(a)},chkBankOrderNum:function(a){var t=/^[0-9]{8,}$/;return t.test(a)},chkPrice:function(a){var t=/^[0-9]{1,10}[\.][0-9]{2}$/;return t.test(a)},chkEmail:function(a){var t=/^([a-zA-Z0-9_\.-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return t.test(a)},chkURL:function(a){var t=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/;return t.test(a)},chkIP:function(a){var t=/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/;return t.test(a)},chkScript:function(a){var t=/^[A-Za-z0-9|_|-|\u4E00-\u9FA5\uF900-\uFA2D|@|#|,|.|;]+$/;return t.test(a)}};i.exports=n}),define("lib/components/khSelect/1.0.0/khSelect",[],function(a,t,i){function n(a){function t(a){var t=a.attr("id");$(".select-gray").each(function(a){$(this).attr("id")!=t&&$(this).find("ul").slideUp()})}var a=a||{},i=a.mainCell||"",n=a.callback||null,e="string"==typeof i?i.indexOf("#")>-1?$(i):$("#"+i):i,s=e.find("ul"),l=e.find(".JQ_option"),r=e.find(".JQ_selectBtn"),c=s.find("a"),o=e.find("input");ulObj=e.children("ul"),e.css({display:"inline-block","min-width":parseInt(l.width()+30)+"px"}),ulObj.height()>200?ulObj.css({"overflow-y":"scroll",height:"200px","min-width":parseInt(l.width()+28)+"px"}):ulObj.css({"min-width":parseInt(l.width()+28)+"px"}),l.on("click",function(a){s.slideToggle(),a.stopPropagation(),t(e)}),r.on("click",function(a){s.slideToggle(),a.stopPropagation(),t(e)}),c.on("click",function(a){s.slideUp(),l.html($(this).html()),o.length>0&&o.val($(this).attr("data-value")),"function"==typeof n?n($(this).attr("data-value"),$(this).html(),$(this)):"",a.stopPropagation()}),$(document).on("click","body",function(a){s.slideUp(),a.stopPropagation()})}i.exports=n}),define("lib/components/khSelectAddress/1.0.0/khSelectAddress",[],function(a,t,i){function n(a){function t(){$.ajax({url:"http://api.kinhom.com/region/pro",type:"get",dataType:"jsonp",success:function(a){l("#J_proList",a),r({mainCell:"#J_selectProvience",callback:function(a,t,i){e("#J_selectAddress",i.attr("data-parent"))}})},error:function(a){}})}var a=a||{};a.curPro||"",a.curCity||"",a.curArea||"";r=a.selectModule,t()}function e(a,t){var i='<div class="select-gray fl JQ_addressCity"><i class="select-corner icon-gray-left"></i><label class="JQ_option select-option w90" data-value="0">请选择市</label><i class="select-corner icon-gray-right"></i><a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_cityList"></ul><input type="hidden" name="valCity" /></div>',n='<div class="select-gray fl JQ_addressArea"><i class="select-corner icon-gray-left"></i><label class="JQ_option select-option w90" data-value="0">请选择区</label><i class="select-corner icon-gray-right"></i><a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_areaList"></ul><input type="hidden" name="valArea" /></div>',e="string"==typeof a?a.indexOf("#")>-1?$(a):$("#"+a):a;e.find(".JQ_addressCity").remove(),e.find(".JQ_addressArea").remove(),e.append(i),e.append(n),e.find(".JQ_addressCity").attr("id","J_selectCity_"+t),e.find(".JQ_addressArea").attr("id","J_selectArea_"+t),cityObj=e.find("#J_cityList");var l="";$.ajax({url:"http://api.kinhom.com/region/city/"+t,type:"get",dataType:"jsonp",success:function(a){for(var i=0;i<a.length;i++)l+='<li><a href="javascript:void(0)" data-parent="'+a[i].parent_id+'" data-value="'+a[i].region_id+'">'+a[i].region_name+"</a></li>";cityObj.append(l),r({mainCell:"J_selectCity_"+t,callback:function(a,t,i){s("#J_selectAddress",a)}}),r({mainCell:"J_selectArea_"+t})}})}function s(a,t){var i='<div class="select-gray fl JQ_addressArea"><i class="select-corner icon-gray-left"></i><label class="JQ_option select-option w90" data-value="0">请选择区</label><i class="select-corner icon-gray-right"></i><a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_areaList"></ul><input type="hidden" name="valArea" /></div>',n="string"==typeof a?a.indexOf("#")>-1?$(a):$("#"+a):a;n.find(".JQ_addressArea").remove(),n.append(i),n.find(".JQ_addressArea").attr("id","J_selectArea_"+t),areaObj=n.find("#J_areaList");var e="";$.ajax({url:"http://api.kinhom.com/region/area/"+t,type:"get",dataType:"jsonp",success:function(a){for(var i=0;i<a.length;i++)e+='<li><a href="javascript:void(0)" data-parent="'+a[i].parent_id+'" data-value="'+a[i].region_id+'">'+a[i].region_name+"</a></li>";areaObj.append(e),r({mainCell:"J_selectArea_"+t})}})}function l(a,t){for(var i="",n="string"==typeof a?a.indexOf("#")>-1?$(a):$("#"+a):a,e=0;e<t.length;e++)i+='<li><a href="javascript:void(0);" data-parent="'+t[e].region_id+'" data-value="'+t[e].region_id+'">'+t[e].region_name+"</a></li>";
n.append(i)}var r=function(){};i.exports=n});