define("libpage.0.1/curstom",["lib/template/tempcomment","lib/template/tempcurstom","lib/components/mainNav/1.0.1/mainNav","lib/components/slider3D/1.0.0/slider3d","lib/components/dialog/1.0.0/dialog","lib/components/dialog/1.0.0/popup","lib/components/dialog/1.0.0/dialog-config","lib/components/rotate/2.3.0/rotate","lib/components/minBar/1.0.1/minBar"],function(t,i,e){function a(){$(".diy-3d-tab a").each(function(t,i){$(this).click(function(t){$(this).addClass("cur").siblings().removeClass("cur")})})}function n(){for(var t="",i=0;i<sliderData.sliderTitle.length;i++)t+='<a href="javascript:void(0);" class="3d-tab-item" data-idx="'+[i]+'">'+sliderData.sliderTitle[i]+"</a>";$("#J_styleName").html(t),$("#J_styleName a").eq(0).addClass("cur"),$("#J_slider3D").html(_("tplCurstomSlider3D",sliderData)),$(document).on("click",".3d-tab-item",function(){var t=$(this).attr("data-idx");$(".slider3DList img").each(function(){var i=$(this).parent().index();$(this).attr("src",sliderData.dataList[t][i].imgSrc)}),$(".slider3DList .b_tit").each(function(){var i=$(this).parent().index();$(this).html(sliderData.dataList[t][i].thisInfo)})})}function s(){var t=diyForm.userName.value,i=diyForm.phNum.value,e=diyForm.uraddr.value,a=diyForm.changePro.value,n=diyForm.changeCity.value,s={userName:t,phNum:i,addr:e,changePro:a,changeCity:n};if(r(t)&&l(i)){if(""==e)return c("uraddr","详细地址不能空哦"),!1;$.ajax({url:"/default/savecustom",type:"POST",data:s,dataType:"json",success:function(t){if("ok"==t.done){var i='<div class = "ui-conments-dialog-content" id = "noticeContent"><div class ="ui-conments-dialog-msgbig"><i class = "ui-conments-dialog-icon-smile"></i><b>恭喜您！申请成功！</b></div><p class = "ui-conments-dialog-msgsp"><span>金海马客服于24小时内与您电话联系。</span></p></div>',e=new y({title:"提示",content:i,width:400,height:130,fixed:!0,button:[{value:"确定",id:"J_ok",className:"ui-btns-orange",callback:function(){window.location.reload()}}]}).showModal();setTimeout(function(){window.location.reload(),e.close().remove()},5e3)}},faile:function(){}})}return!1}function o(){$("#proLabel").click(function(){return $("#proList").css("display","block"),$("#ProIcon").addClass("cur"),event.stopPropagation(),!1}),$(document).on("click","#proList li",function(){$("#selectPro").html($(this).html()),$("#changePro").val($(this).attr("id")),$("#proList").hide(),$("#ProIcon").removeClass("cur")}),$("#cityLabel").click(function(){return $("#cityList").css("display","block"),$("#cityIcon").addClass("cur"),event.stopPropagation(),!1}),$(document).on("click","#cityList li",function(){$("#selectCity").html($(this).html()),$("#changeCity").val($(this).attr("id")),$("#cityList").hide(),$("#cityIcon").removeClass("cur")})}function r(t){var i=/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g;return""==t?(c("userName","您的称呼不能为空"),!1):i.test(t)?(c("userName","姓名中不能有特殊字符"),!1):!0}function l(t){var i=/^(13[0-9]|14[0-9]|15[0-9]|18[0-9])\d{8}$/;return isNaN(t)||""==t?(""==t?c("phNum","您的手机号码不能为空"):c("phNum","只能是纯数字"),!1):i.test(t)?!0:(c("phNum","手机号码格式有误"),!1)}function c(t,i){var e=$("input[name="+t+"]"),a=$("textarea[name="+t+"]");e.parent().append('<p class="tip"><i></i><span>'+i+"</span></p>"),a.parent().append('<p class="tip"><i></i><span>'+i+"</span></p>"),$(".tip").show()}function d(t){var i=$(t),e=i.find(".tip");e.remove()}function h(){$(".curstom-apply .text").each(function(){var t=$(this).val();""!=t?$(this).siblings("label").hide():$(this).siblings("label").show(),$(this).focus(function(){$(this).siblings("label").hide()}).blur(function(){var t=$(this).val();""!=t?$(this).siblings("label").hide():$(this).siblings("label").show()})})}function p(){$("#J_desingerList .head-pic").each(function(){$(this).rotate({bind:{mouseover:function(){$(this).rotate({duration:300,animateTo:35,callback:function(){var t=$(this).parent().attr("des-item"),i=$(this).parent().find(".detail"),e='<i class="tip-icon-w"></i><i class="tip-icon-g"></i><p class="pic"><img src="'+x.desDetail[t-1].desPic+'" alt="'+x.desDetail[t-1].desTitle+'"></p><div class="info"><p class="name">'+x.desDetail[t-1].desName+'</p><p class="title"><span>'+x.desDetail[t-1].desTitle+'</span></p><p class="style"><label>擅长风格：</label><span>'+x.desDetail[t-1].desStyle+'</span></p><p class="idea"><label>设计师理念：</label><span>'+x.desDetail[t-1].desIdea+"</span></p></div>";i.html(e),i.addClass("cur")}})},mouseout:function(){$(this).rotate({duration:0,animateTo:0,callback:function(){var t=$(this).parent().find(".detail");t.removeClass("cur")}})}}})})}function u(){m("#J_goToApply"),$(window).scroll(function(){$(document).scrollTop()>350?($(".ui-curstom-alwaysdown").show(),$(".ui-curstom-alwaysdown-bg").show()):($(".ui-curstom-alwaysdown").hide(),$(".ui-curstom-alwaysdown-bg").hide())})}function m(t){$(t).click(function(){return $("body,html").animate({scrollTop:0},1e3),!1})}function f(t){function i(t){for(var i=0;i<cityPoiData.cityName.length;i++)cityPoiData.cityName[i]==t&&e(i,t)}function e(t,i){s.centerAndZoom(i,11),s.setZoom(12);for(var e=[],n=[],o=0;o<cityPoiData.proList[t].length;o++){n[o]=new BMap.Point(cityPoiData.proList[t][o].lat,cityPoiData.proList[t][o].lng),e[o]=new BMap.Marker(n[o]),s.addOverlay(e[o]),a(0,i);try{e[o].addEventListener("click",a.bind(null,o,i))}catch(r){}}}function a(t,i){for(var e=0;e<cityPoiData.cityName.length;e++)cityPoiData.cityName[e]==i&&($("#expTitle").html(cityPoiData.proList[e][t].title),$("#expSerTel").html(cityPoiData.proList[e][t].tel),$("#expSerTime").html(cityPoiData.proList[e][t].service_time),$("#expAddress").html(cityPoiData.proList[e][t].address),$("#expInfo").html(cityPoiData.proList[e][t].info),$("#url").attr("href","/offline?id="+cityPoiData.proList[e][t].id))}var n=t||"广州市",s=new BMap.Map("diyMap");s.centerAndZoom(new BMap.Point(113.375284,23.101724),10),s.enableScrollWheelZoom(),s.enableContinuousZoom();new BMap.LocalCity;i(n)}var g=t("../../template/tempcomment"),_=t("../../template/tempcurstom"),v=t("../../components/mainNav/1.0.1/mainNav"),b=t("../../components/slider3D/1.0.0/slider3d"),y=t("../../components/dialog/1.0.0/dialog"),w=(t("../../components/rotate/2.3.0/rotate"),t("../../components/minBar/1.0.1/minBar"));$(function(){w({mainCell:"#J_minBar",pathConfig:cdnConfig,tpl:g,tplName:"tplMinBar",data:_globalConfig.minBar.data}),v({mainCell:"JQ_headNavMenu",lineCell:"JQ_headNavLine"}),$("input").each(function(){$(this).focus(function(){d("#diyform")})}),n(),a(),b({dom:"sliderList",number:$("#sliderList li").length,speed:2e3,showTitle:!0}),h(),u(),f(),o(),$("#J_desingerList").html(_("tplCurstomDesigners",x)),p(),$("#J_submitBtn").on("click",function(){s()}),$("#J_curstomTab .tab-item").each(function(){$(this).on("click",function(){$("#J_curstomTab .tab-item").removeClass("cur"),$(this).addClass("cur");var t=$(this).html()+"市";f(t)})}),m("#J_bookingBtn")});var x={desDetail:[{decHeadPic:"http://misc.jjcdn.com/p/images/curstom/desinger_headpic1.png",desPic:"http://misc.jjcdn.com/p/images/curstom/desinger_pic1.jpg",desName:"戴青松",desTitle:"金海马商城●定制家居高级设计师",desStyle:"现代风格,欧式风格,现代中式风格",desIdea:"设计不是追求完美，设计是符合客户功能需求的同时来实现一种美感，它有取有舍，是一种思绪的较量，金海马家居定制为您打造一个完美而好用的家。"},{decHeadPic:"http://misc.jjcdn.com/p/images/curstom/desinger_headpic2.png",desPic:"http://misc.jjcdn.com/p/images/curstom/desinger_pic2.jpg",desName:"达传刚",desTitle:"金海马商城●定制家居高级设计师",desStyle:"现代简约，简欧风格，新中式",desIdea:"定制设计最主要的是切合实际为顾客量身打造一个温暖、舒适的家，美观固然重要，实用才是设计根本所在。"},{decHeadPic:"http://misc.jjcdn.com/p/images/curstom/desinger_headpic3.png",desPic:"http://misc.jjcdn.com/p/images/curstom/desinger_pic3.jpg",desName:"刘升远",desTitle:"金海马商城●定制家居高级设计师",desStyle:"现代欧式，现代风格，混搭风",desIdea:"设计“因人而起”－外观造型迎合个人喜好；空间尺度符合人机工程；风格特点表现人文文化。"},{decHeadPic:"http://misc.jjcdn.com/p/images/curstom/desinger_headpic4.png",desPic:"http://misc.jjcdn.com/p/images/curstom/desinger_pic4.jpg",desName:"朱建飞",desTitle:"金海马商城●定制家居高级设计师",desStyle:"地中海风格，现代风格，欧式风格",desIdea:"定制设计就是根据客户喜欢的款式与需求，结合多年的经验，切合实际出发构思大方得体而又实在的方案，定制营造出一个时尚独特而又温馨实用的家。"},{decHeadPic:"http://misc.jjcdn.com/p/images/curstom/desinger_headpic5.png",desPic:"http://misc.jjcdn.com/p/images/curstom/desinger_pic5.jpg",desName:"许新凤",desTitle:"金海马商城●定制家居高级设计师",desStyle:"地中海风格，现代风格，欧式风格",desIdea:"好的生活其实很简单，在一个并不很大的空间里满足你所有的想像。甚至于很少的细节，作为家居设计师都要让这种美好的感觉实现加倍，达到完美的体验。"},{decHeadPic:"http://misc.jjcdn.com/p/images/curstom/desinger_headpic6.png",desPic:"http://misc.jjcdn.com/p/images/curstom/desinger_pic6.jpg",desName:"苏丽梅",desTitle:"金海马商城●定制家居高级设计师",desStyle:"浪漫风格、北欧风格",desIdea:"珍惜有限空间 打造无限品味，为“您”设计心灵的归宿—家。住空间并非单纯的物质品牌，更多的是精神物质的需求；设计最终能更具体、更感性地传达健康、舒适、情趣、高尚的生活态度和居住美学。"}]}}),!function(){function t(t,i){return(/string|function/.test(typeof i)?r:o)(t,i)}function i(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?i(t.call(t)):""),t}function e(t){return h[t]}function a(t){return i(t).replace(/&(?![\w#]+;)|[<>"']/g,e)}function n(t,i){if(p(t))for(var e=0,a=t.length;a>e;e++)i.call(t,t[e],e,t);else for(e in t)i.call(t,t[e],e)}function s(t,i){var e=/(\/)[^/]+\1\.\.\1/,a=("./"+t).replace(/[^/]+$/,""),n=a+i;for(n=n.replace(/\/\.\//g,"/");n.match(e);)n=n.replace(e,"/");return n}function o(i,e){var a=t.get(i)||l({filename:i,name:"Render Error",message:"Template not found"});return e?a(e):a}function r(t,i){if("string"==typeof i){var e=i;i=function(){return new d(e)}}var a=c[t]=function(e){try{return new i(e,t)+""}catch(a){return l(a)()}};return a.prototype=i.prototype=u,a.toString=function(){return i+""},a}function l(t){var i="{Template Error}",e=t.stack||"";if(e)e=e.split("\n").slice(0,2).join("\n");else for(var a in t)e+="<"+a+">\n"+t[a]+"\n\n";return function(){return"object"==typeof console&&console.error(i+"\n\n"+e),i}}var c=t.cache={},d=this.String,h={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},p=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},u=t.utils={$helpers:{},$include:function(t,i,e){return t=s(e,t),o(t,i)},$string:i,$escape:a,$each:n},m=t.helpers=u.$helpers;t.get=function(t){return c[t.replace(/^\.\//,"")]},t.helper=function(t,i){m[t]=i},"function"==typeof define?define("lib/template/tempcomment",[],function(i,e,a){return t}):"undefined"!=typeof exports?module.exports=t:this.template=t,t("tplAddressForm",function(t,i){"use strict";var e=this,a=(e.$helpers,e.$escape),n=t.actionURL,s=t.addressID,o=t.userName,r=t.address,l=t.telephone,c=t.mobilephone,h=t.defaultAdd,p="";return p+='<form id="J_addressForm" action="',p+=a(n),p+='" method="post"> <input type="hidden" name="addressID" value="',p+=a(s),p+='"> <table id="J_add" class="person-address-add-table"> <tbody class="person-address"> <tr class="item"> <th class="address-add-head">收货人：</th> <td> <input id="J_userName" class="person-address-add-input" name="userName" value="',p+=a(o),p+='" /> <span class="fc-f60">*</span> </td> </tr> <tr class="item"> <th class="address-add-head">详细地址：</th> <td id="J_selectAddress"></td> </tr> <tr class="item"> <th>&nbsp;</th> <td> <p> <input id="J_address" class="person-address-add-input detailed-address-input" name="address" placeholder="具体地址" value="',p+=a(r),p+='" /> <span class="fc-f60">*</span> </p> <p> <label class="person-address-add-tip">&nbsp;&nbsp;&nbsp;(不需要重复填写省/市/区)</label> </p> </td> </tr> <tr class="item"> <th class="address-add-head">固定电话：</th> <td> <input id="J_tel" class="person-address-add-input" name="tel" value="',p+=a(l),p+='" /> <label class="person-address-add-tip"><span>*</span>&nbsp;&nbsp;（示例：020-88888888-999）</label> </td> </tr> <tr class="item"> <th class="address-add-head">手机：</th> <td> <input id="J_phone" class="person-address-add-input" name="phone" value="',p+=a(c),p+='" /> <label class="person-address-add-tip"><span>*</span>&nbsp;&nbsp;（手机或固话必填一项）</label> </td> </tr> <tr class="item"> <th>&nbsp;</th> <td> <div class="defult-address-choose"> ',p+="1"==h?' <a id="J_setDefault" href="javascript:void(0);" class="icon icon-box-checked"></a> ':' <a id="J_setDefault" href="javascript:void(0);" class="icon icon-box-normal"></a> ',p+=' <span class="address-font-gray">设为默认地址</span> <input type="hidden" name="setDefault" value="',p+=a(h),p+='" /> </div> </td> </tr> </tbody> </table> </form>',new d(p)}),t("tplBottomAd",function(t,i){"use strict";var e=this,a=(e.$helpers,t.link),n=e.$escape,s=t.linkURL,o=t.title,r=t.imgURL,l="";return l+='<div class="full-ad-wrap" style="width: 100%; overflow: hidden;"> <div style="background:url(http://misc.jjcdn.com/p/images/loading-t.gif) center center no-repeat;"> <a href="',""!=a&&(l+=n(a)),""!=s&&(l+=n(s)),l+='" target="_blank" title="',l+=n(o),l+='" style=" display:block; width:100%;min-height: 80px;background:url(',l+=n(r),l+=') center top no-repeat; "> <img src="',l+=n(r),l+='" style="visibility: hidden;display: block" /> </a> <a href="javascript:void(0);" class="full-ad-close" id="J_itemBottomAdClose"><span></span></a> </div> </div>',new d(l)}),t("tplEditPassForm",function(t,i){"use strict";var e=this,a=(e.$helpers,e.$escape),n=t.actionURL,s="";return s+='<form id="J_editPassForm" action="',s+=a(n),s+='" method="post"> <div class="fc-8c8">为了您的账户安全，请定期更换登录密码，并确保登录密码设置与提现密码不同。</div> <input type="hidden" name="form" value="form"> <div class="a-edit-pass-tr"> <p id="J_oldPass" class="edit-input-wrap"> <input type="password" name="old_passwd" placeholder="原密码" class="JQ_editPassOption" /> </p> <p class="edit-pass-tip"></p> </div> <div class="a-edit-pass-tr fc-8c8"> <p id="J_newPass" class="edit-input-wrap"> <input type="password" name="new_passwd" placeholder="输入新密码" class="JQ_editPassOption" /> </p> <p class="edit-pass-tip"></p> </div> <div class="a-edit-pass-tr fc-8c8"> <p id="J_confirmNewPass" class="edit-input-wrap"> <input type="password" name="confirmNewPass" placeholder="再次输入新密码" class="JQ_editPassOption" /> </p> <p class="edit-pass-tip"></p> </div> </form>',new d(s)}),t("tplFloatNav",'<div id="J_floatNav" class="float-nav"> <a href="http://chat10.live800.com/live800/chatClient/chatbox.jsp?companyID=201143&jid=2104161973" class="float-nav-char-wrap JQ_floatNavNormal" target="_blank"> <span class="floag-online-chat">在线客服</span> <i class="icon-float-chat normal-icon"></i> </a> <a href="http://crm2.qq.com/page/portalpage/wpa.php?uin=4006538038&aty=0&a=0&curl=&ty=1" class="float-nav-qq JQ_floatNavNormal" target="_blank"> <span>QQ客服</span> <i class="icon-float-qq normal-icon"></i> </a> <a href="http://cart.kinhom.com/list.html" class="float-nav-cart JQ_floatNavNormal" target="_blank"> <span>购物车</span> <i class="icon-float-cart normal-icon"></i> <i class="icon-cart-num num-icon">0</i> </a> <a href="javascript:void(0);" class="float-nav-wechat JQ_floatNavWechat"> <span> <img src="http://misc.jjcdn.com/p/images/float_wechat.png" width="40" height="40" /> </span> <i class="icon-float-wechat normal-icon"></i> </a> <a href="http://www.wenjuan.com/s/qU36f2/" target="_blank" class="float-nav-feedback JQ_floatNavNormal"> <span>意见反馈</span> <i class="icon-float-feedback normal-icon"></i> </a> <a id="J_floatGoTop" href="javascript:void(0);" class="float-nav-top JQ_floatNavNormal"> <span>返回顶部</span> <i class="icon-float-top normal-icon"></i> </a> </div>'),t("tplLoginDialog",'<div class="login-dialog"> <div class="login-dialog-form"> <form action="javascript:void(0);" method="post"> <p class="login-dialog-form-tr" id="J_loginUserName"> <label>用户名：</label> <input type="text" name="loginUserName" placeholder="输入用户名/邮箱/手机"> </p> <p class="login-dialog-form-tip"></p> <p class="login-dialog-form-tr" id="J_loginPassword"> <label>密&nbsp;&nbsp;&nbsp;码：</label> <input type="password" name="loginPassword" placeholder="输入密码"> </p> <p class="login-dialog-form-tip"></p> </form> </div> </div> '),t("tplMinBar",function(t,i){"use strict";var e=this,a=(e.$helpers,e.$escape),n=t.live800,s=t.cdnPath,o=t.wapQQ,r=t.cart,l=t.mobile,c=t.wechat,h=t.feedback,p=t.gotop,u="";return u+=' <section id="J_minBar" class="min-bar"> <div class="min-bar-tabs"> <div class="min-bar-tab min-bar-online"> <div class="min-bar-online-icon"> <a href="',u+=a(n.clientLink),u+='" class="blankLink JQ_minBarOnline" target="_blank"> <img src="',u+=a(s),u+=a(n.iconPath),u+='" width="',u+=a(n.iconWidth),u+='" height="',u+=a(n.iconHeight),u+='" alt="',u+=a(n.iconText),u+='"/> <label class="min-bar-chat-num">',u+=a(n.chatNum),u+='</label> </a> <span class="min-bar-online-pop"> <span class="pop-close">&nbsp;</span> <a href="',u+=a(n.clientLink),u+='" class="pop-chat" target="_blank">&nbsp;</a> </span> </div> </div> <div class="min-bar-tab min-bar-qq min-text"> <div class="min-bar-qq-icon"> <a href="',u+=a(o.clientLink),u+='" class="blankLink" target="_blank"> <img src="',u+=a(s),u+=a(o.iconPath),u+='" width="',u+=a(o.iconWidth),u+='" height="',u+=a(o.iconHeight),u+='" alt="',u+=a(o.iconText),u+='"/> </a> <span class="min-bar-qq-text text">',u+=a(o.iconText),u+='</span> </div> </div> <div class="min-bar-tab min-bar-cart min-cart"> <div class="min-bar-cart-icon"> <a href="',u+=a(r.clientLink),u+='" class="icon-float-cart"> <span id="J_cartNum" class="min-bar-cart-num">',u+=a(r.chatNum),u+='</span> </a> </div> <div id="J_minBarPlugin" class="min-bar-plugin"> <div class="bar-plugin-cart"> <ul id="J_pluginCart"> </ul> <div class="plugin-cart-info"> <p class="cart-info-price"> <span class="cart-info-num"> 共 <label id="J_minBarCartNum">0</label> 件商品 </span> <span class="cart-info-total"> 合计: <small>&yen;</small> <label id="J_minBarCartTotal">0</label> </span> </p> <p class="cart-info-shipping">(不含运费)</p> <p class="cart-info-btn"> <a href="javascript:void(0);" id="J_minBarBtn" class="btn-gray" target="_blank">查看购物车</a> </p> </div> </div> </div> </div> <div class="min-bar-tab min-bar-phone min-phone"> <div class="min-bar-phone-icon"> <a href="',u+=a(l.clientLink),u+='" class="icon-float-phone">&nbsp;</a> <span class="min-bar-phone-img phone"> <img src="',u+=a(s),u+=a(l.iconPath),u+='" width="',u+=a(l.iconWidth),u+='" height="',u+=a(l.iconHeight),u+='" alt="',u+=a(l.iconText),u+='" /> </span> </div> </div> <div class="min-bar-tab min-bar-wechat min-wechat"> <div class="min-bar-wechat-icon"> <a href="',u+=a(c.clientLink),u+='" class="icon-float-wechat">&nbsp;</a> <span class="min-bar-wechat-img wechat"> <img src="',u+=a(s),u+=a(c.iconPath),u+='" width="',u+=a(c.iconWidth),u+='" height="',u+=a(c.iconHeight),u+='" alt="',u+=a(c.iconText),u+='" /> </span> </div> </div> <div class="min-bar-tab min-bar-feedback min-text"> <div class="min-bar-feedback-icon"> <a href="',u+=a(h.clientLink),u+='" class="icon-float-feedback blankLink" target="_blank">&nbsp;</a> <span class="min-bar-feedback-text text">',u+=a(h.iconText),u+='</span> </div> </div> <div class="min-bar-tab min-bar-gtop min-text"> <div class="min-bar-gtop-icon" id="J_minBarGoTop"> <a href="',u+=a(p.clientLink),u+='" class="icon-float-top">&nbsp;</a> <span class="min-bar-gtop-text text">',u+=a(p.iconText),u+='</span> </div> </div> </div> </section> <section class="min-bar-mark"></section> ',new d(u)}),t("tplSelectAddress",function(t,i){"use strict";var e=this,a=(e.$helpers,t.valCity),n=e.$escape,s=t.textPro,o=t.valPro,r=t.textCity,l=t.valArea,c=t.textArea,h="";return h+='<div id="J_selectProvience" class="select-gray fl"> <i class="select-corner icon-gray-left"></i> ',""==a?h+=' <label class="JQ_option select-option w90" data-value="0">请选择省</label> ':(h+=' <label class="JQ_option select-option w90" data-value="0">',h+=n(s),h+="</label> "),h+=' <i class="select-corner icon-gray-right"></i> <a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_proList"></ul> <input type="hidden" name="valProvince" value="',h+=n(o),h+='" /> </div> <div class="select-gray fl JQ_addressCity"> <i class="select-corner icon-gray-left"></i> ',""==a?h+=' <label class="JQ_option select-option w90" data-value="0">请选择市</label> ':(h+=' <label class="JQ_option select-option w90" data-value="0">',h+=n(r),h+="</label> "),h+=' <i class="select-corner icon-gray-right"></i> <a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_cityList"></ul> <input type="hidden" name="valCity" value="',h+=n(a),h+='" /> </div> <div class="select-gray fl JQ_addressArea"> <i class="select-corner icon-gray-left"></i> ',""==l?h+=' <label class="JQ_option select-option w90" data-value="0">请选择区</label> ':(h+=' <label class="JQ_option select-option w90" data-value="0">',h+=n(c),h+="</label> "),h+=' <i class="select-corner icon-gray-right"></i> <a id="J_applyType" href="javascript:void(0);" class="select-btn JQ_selectBtn"><i class="triangle-down"></i></a> <ul id="J_areaList"></ul> <input type="hidden" name="valArea" value="',h+=n(l),h+='" /> </div> ',new d(h)}),t("tplTopAd",function(t,i){"use strict";var e=this,a=(e.$helpers,t.link),n=e.$escape,s=t.linkURL,o=t.title,r=t.imgURL,l="";return l+='<div class="top-ad-wrap" style="width: 100%; overflow: hidden;"> <div style="background:url(http://misc.jjcdn.com/p/images/loading-t.gif) center center no-repeat;"> <a href="',""!=a&&(l+=n(a)),""!=s&&(l+=n(s)),l+='" target="_blank" title="',l+=n(o),l+='" style=" display:block; width:100%; min-height: 80px; background:url(',l+=n(r),l+=') center top no-repeat; "> <img src="',l+=n(r),l+='" style="visibility: hidden;display: block" /> </a> <a href="javascript:void(0);" class="index-top-ad-close" id="J_indexTopAdClose"> <span></span> </a> </div> </div>',new d(l)})}(),!function(){function t(t,i){return(/string|function/.test(typeof i)?r:o)(t,i)}function i(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?i(t.call(t)):""),t}function e(t){return h[t]}function a(t){return i(t).replace(/&(?![\w#]+;)|[<>"']/g,e)}function n(t,i){if(p(t))for(var e=0,a=t.length;a>e;e++)i.call(t,t[e],e,t);else for(e in t)i.call(t,t[e],e)}function s(t,i){var e=/(\/)[^/]+\1\.\.\1/,a=("./"+t).replace(/[^/]+$/,""),n=a+i;for(n=n.replace(/\/\.\//g,"/");n.match(e);)n=n.replace(e,"/");return n}function o(i,e){var a=t.get(i)||l({filename:i,name:"Render Error",message:"Template not found"});return e?a(e):a}function r(t,i){if("string"==typeof i){var e=i;i=function(){return new d(e)}}var a=c[t]=function(e){try{return new i(e,t)+""}catch(a){return l(a)()}};return a.prototype=i.prototype=u,a.toString=function(){return i+""},a}function l(t){var i="{Template Error}",e=t.stack||"";if(e)e=e.split("\n").slice(0,2).join("\n");else for(var a in t)e+="<"+a+">\n"+t[a]+"\n\n";return function(){return"object"==typeof console&&console.error(i+"\n\n"+e),i}}var c=t.cache={},d=this.String,h={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},p=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},u=t.utils={$helpers:{},$include:function(t,i,e){return t=s(e,t),o(t,i)},$string:i,$escape:a,$each:n},m=t.helpers=u.$helpers;t.get=function(t){return c[t.replace(/^\.\//,"")]},t.helper=function(t,i){m[t]=i},"function"==typeof define?define("lib/template/tempcurstom",[],function(i,e,a){return t}):"undefined"!=typeof exports?module.exports=t:this.template=t,t("tplCurstomDesigners",function(t,i){"use strict";for(var e=this,a=(e.$helpers,t.i),n=t.desDetail,s=e.$escape,o="",a=0;a<n.length;a++)o+=' <li class="item JQ_item',o+=s(a+1),o+='" des-item="',o+=s(a+1),o+='"> <img class="head-pic" src="',o+=s(n[a].decHeadPic),o+='" alt="',o+=s(n[a].desTitle),o+=" ",o+=s(n[a].desName),o+='"> <div class="detail"></div> </li> ';return o+=" ",new d(o)}),t("tplCurstomSlider3D",function(t,i){"use strict";var e=this,a=(e.$helpers,t.i),n=t.dataList,s=e.$escape,o="";o+='<div class="ui-diy-3d-content" id="J_slider"> <div class="slider3DList" id="sliderList"> <ul> ';for(var a=0;a<n[0].length;a++)o+=' <li class="" style=""> <img src="',o+=s(n[0][a].imgSrc),o+='"> <div></div> <p class="b_tit">',o+=s(n[0][a].thisInfo),o+="</p> </li> ";return o+=' </ul> <a href="javascript:;" class="prev"></a> <a href="javascript:;" class="next"></a> </div> </div> ',new d(o)})}(),define("lib/components/mainNav/1.0.1/mainNav",[],function(t,i,e){function a(t){function i(){r.find("a.nav-item").each(function(t){var i=t;$(this).hasClass("cur")&&(a(i),d=i)}),e(),c=n(d)}function e(){r.find("a.nav-item").each(function(t){$(this).on("mouseover",function(){a(t)}),$(this).on("mouseout",function(){s(d)})})}function a(t){var i=r.find("a.nav-item").eq(t).outerWidth(!0),e=i-r.find("a.nav-item").eq(t).width();o(t);for(var a=0,n=0;t>n;n++)a+=r.find("a.nav-item").eq(n).innerWidth();l.stop().animate({left:a+e/2},200)}function n(t){for(var i=r.find("a.nav-item").eq(t).outerWidth(!0),e=i-r.find("a.nav-item").eq(t).width(),a=0,n=0;t>n;n++)a+=r.find("a.nav-item").eq(n).innerWidth();return a+e/2}function s(t){l.stop().animate({left:c},200),o(t)}function o(t){l.css({width:r.find("a.nav-item").eq(t).width()})}var t=t||{},r=$("."+t.mainCell),l=$("."+t.lineCell),c=(l.innerWidth(),0),d=0;i()}e.exports=a}),define("lib/components/slider3D/1.0.0/slider3d",[],function(t,i,e){function a(t){function i(){iNow++,iNow>y.length-1&&(iNow=0),e()}function e(){var t=iNow;for(a(),g=0;t>g;g++)v.unshift(v.pop());n()}function a(){for(g=0;g<y.length;g++)v[g]=x[g]}function n(){for(g=0;g<y.length;g++){y[g].index=g;var t=y[g].getElementsByTagName("div")[0];l(t,{opacity:20}),l(y[g],v[g],function(){s()}),y[g].className="",f&&(g==iNow&&""!==$[iNow].innerHTML?l($[g],{bottom:0}):l($[g],{bottom:-120}))}y[iNow].className="hove"}function s(){for(g=0;g<y.length;g++)if("690px"==y[g].style.width){var t=y[g].getElementsByTagName("div")[0];l(t,{opacity:1})}}function o(t,i){var e=document.getElementsByTagName("*"),a=[],n=0;for(n=0;n<e.length;n++)e[n].className==i&&a.push(e[n]);return a}function r(t,i,e){t.attachEvent?t.attachEvent("on"+i,function(){e.call(t)}):t.addEventListener(i,e,!1)}function l(t,i,e){t.timer&&clearInterval(t.timer),t.timer=setInterval(function(){d(t,i,e)},30)}function c(t,i){return t.currentStyle?t.currentStyle[i]:getComputedStyle(t,!1)[i]}function d(t,i,e){var a=0,n="",s=!0;for(n in i){if(a="opacity"==n?parseInt(100*parseFloat(c(t,"opacity"))):parseInt(c(t,n)),isNaN(a)&&(a=0),navigator.userAgent.indexOf("MSIE 8.0")>0)var o=(i[n]-a)/3;else var o=(i[n]-a)/5;o=o>0?Math.ceil(o):Math.floor(o),parseInt(i[n])!=a&&(s=!1),"opacity"==n?(t.style.filter="alpha(opacity:"+(a+o)+")",t.style.opacity=(a+o)/100):"zIndex"==n?t.style[n]=a+o:t.style[n]=a+o+"px"}s&&(clearInterval(t.timer),t.timer=null,e&&e())}var t=t||{},h=t.number||5,p=t.speed||3e3,u=t.dom||"sliderList_0",m=t.showHide||1,f=t.showTitle||!1,g=iNow=0,_=null,v=[],b=document.getElementById(u);m>1?b.style.display="none":b.style.display="block";var y=b.getElementsByTagName("li"),w=b.getElementsByTagName("a"),$=o(b,"b_tit"),x=[{width:690,height:500,top:0,left:246,zIndex:10},{width:540,height:390,top:55,left:100,zIndex:8},{width:340,height:246,top:124,left:0,zIndex:6},{width:340,height:246,top:124,left:850,zIndex:6},{width:540,height:390,top:55,left:550,zIndex:8}];if(h>5){disNum=h-5;for(var k=0,N=0;N<disNum;N++)k+=600/(parseInt(disNum)+1)+50,x.splice(N+3,0,{width:340,height:246,top:124,left:k,zIndex:2})}for(g=0;g<y.length;g++)y[g].index=g,y[g].style.width=x[g].width+"px",y[g].style.height=x[g].height+"px",y[g].style.top=x[g].top+"px",y[g].style.left=x[g].left+"px",y[g].style.zIndex=x[g].zIndex,v[g]=x[g],f&&""!==$[iNow].innerHTML&&"690px"==y[g].style.width&&l($[g],{bottom:0}),r(y[g],"click",function(){var t=this.index;for(iNow=this.index,a(),g=0;t>g;g++)v.unshift(v.pop());n()});r(w[0],"click",function(){v.unshift(v.pop()),n(),i()}),r(w[1],"click",function(){v.push(v.shift()),n(),iNow--,iNow<0&&(iNow=y.length-1),e()}),b.onmouseover=function(){clearInterval(_)},b.onmouseout=function(){clearInterval(_),_=setInterval(i,p)},_=setInterval(i,p),s()}e.exports=a}),define("lib/components/dialog/1.0.0/dialog",["lib/components/dialog/1.0.0/popup","lib/components/dialog/1.0.0/dialog-config"],function(t,i,e){var a=t("./popup"),n=t("./dialog-config"),s=n.cssUri;if(s){var o=t[t.toUrl?"toUrl":"resolve"];o&&(s=o(s),s='<link rel="stylesheet" href="'+s+'" />',$("base")[0]?$("base").before(s):$("head").append(s))}var r=0,l=new Date-0,c=!("minWidth"in $("html")[0].style),d="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),h=!c&&!d,p=function(t,i,e){var a=t=t||{};"string"!=typeof t&&1!==t.nodeType||(t={content:t,fixed:!d}),t=$.extend(!0,{},p.defaults,t),t.original=a;var n=t.id=t.id||l+r,s=p.get(n);return s?s.focus():(h||(t.fixed=!0),t.quickClose&&(t.modal=!0,t.backdropOpacity=0),$.isArray(t.button)||(t.button=[]),void 0!==e&&(t.cancel=e),t.cancel&&t.button.push({id:"cancel",className:t.cancelClassName,value:t.cancelValue,callback:t.cancel,display:t.cancelDisplay}),void 0!==i&&(t.ok=i),t.ok&&t.button.push({id:"ok",className:t.okClassName,value:t.okValue,callback:t.ok,autofocus:!0}),p.list[n]=new p.create(t))},u=function(){};u.prototype=a.prototype;var m=p.prototype=new u;return p.create=function(t){var i=this;$.extend(this,new a);var e=(t.original,$(this.node).html(t.innerHTML)),n=$(this.backdrop);return this.options=t,this._popup=e,$.each(t,function(t,e){"function"==typeof i[t]?i[t](e):i[t]=e}),t.zIndex&&(a.zIndex=t.zIndex),e.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").on("click",function(t){i._trigger("cancel"),t.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),t.quickClose&&n.on("onmousedown"in document?"mousedown":"click",function(){return i._trigger("cancel"),!1}),this.addEventListener("show",function(){n.css({opacity:0,background:t.backdropBackground}).animate({opacity:t.backdropOpacity},150)}),this._esc=function(t){var e=t.target,n=e.nodeName,s=/^input|textarea$/i,o=a.current===i,r=t.keyCode;!o||s.test(n)&&"button"!==e.type||27===r&&i._trigger("cancel")},$(document).on("keydown",this._esc),this.addEventListener("remove",function(){$(document).off("keydown",this._esc),delete p.list[this.id]}),r++,p.oncreate(this),this},p.create.prototype=m,$.extend(m,{content:function(t){var i=this._$("content");return"object"==typeof t?(t=$(t),i.empty("").append(t.show()),this.addEventListener("beforeremove",function(){$("body").append(t.hide())})):i.html(t),this.reset()},title:function(t){return this._$("title").text(t),this._$("header")[t?"show":"hide"](),this},width:function(t){return this._$("content").css("width",t),this.reset()},height:function(t){return this._$("content").css("height",t),this.reset()},button:function(t){t=t||[];var i=this,e="",a=0;return this.callbacks={},"string"==typeof t?(e=t,a++):$.each(t,function(t,n){var s=n.id=n.id||n.value,o="";i.callbacks[s]=n.callback,n.display===!1?o=' style="display:none"':a++,e+='<button type="button" i-id="'+s+'" class="'+(n.className?n.className:"ui-btns-nor")+'"'+o+(n.disabled?" disabled":"")+(n.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+n.value+"</button>",i._$("button").on("click","[i-id="+s+"]",function(t){var e=$(this);e.attr("disabled")||i._trigger(s),t.preventDefault()})}),this._$("button").html(e),this._$("footer")[a?"show":"hide"](),this},statusbar:function(t){return this._$("statusbar").html(t)[t?"show":"hide"](),this},_$:function(t){return this._popup.find("[i="+t+"]")},_trigger:function(t){var i=this.callbacks[t];return"function"!=typeof i||i.call(this)!==!1?this.close().remove():this}}),p.oncreate=$.noop,p.getCurrent=function(){return a.current},p.get=function(t){return void 0===t?p.list:p.list[t]},p.list={},p.defaults=n,p}),define("lib/components/dialog/1.0.0/popup",[],function(t,i,e){function a(){this.destroyed=!1,this.__popup=$("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=$("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],n++}var n=0,s=!("minWidth"in $("html")[0].style),o=!s;return $.extend(a.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",
show:function(t){if(this.destroyed)return this;var i=this.__popup,e=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=t||this.follow,!this.__ready){if(i.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),s||$(window).on("resize",$.proxy(this.reset,this)),this.modal){var n={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||a.zIndex};i.addClass(this.className+"-modal"),o||$.extend(n,{position:"absolute",width:$(window).width()+"px",height:$(document).height()+"px"}),e.css(n).attr({tabindex:"0"}).on("focus",$.proxy(this.focus,this)),this.__mask=e.clone(!0).attr("style","").insertAfter(i),e.addClass(this.className+"-backdrop").insertBefore(i),this.__ready=!0}i.html()||i.html(this.innerHTML)}return i.addClass(this.className+"-show").show(),e.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(t){return!this.destroyed&&this.open&&(void 0!==t&&(this.returnValue=t),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),a.current===this&&(a.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),s||$(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var t in this)delete this[t];return this},reset:function(){var t=this.follow;return t?this.__follow(t):this.__center(),this.__dispatchEvent("reset"),this},resize:function(){var t=this.follow;return t?this.__follow(t):this.__center(),this.__dispatchEvent("resize"),this},focus:function(){var t=this.node,i=this.__popup,e=a.current,n=this.zIndex=a.zIndex++;if(e&&e!==this&&e.blur(!1),!$.contains(t,this.__getActive())){var s=i.find("[autofocus]")[0];!this._autofocus&&s?this._autofocus=!0:s=t,this.__focus(s)}return i.css("zIndex",n),a.current=this,i.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var t=this.__activeElement,i=arguments[0];return i!==!1&&this.__focus(t),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(t,i){return this.__getEventListener(t).push(i),this},removeEventListener:function(t,i){for(var e=this.__getEventListener(t),a=0;a<e.length;a++)i===e[a]&&e.splice(a--,1);return this},__getEventListener:function(t){var i=this.__listener;return i||(i=this.__listener={}),i[t]||(i[t]=[]),i[t]},__dispatchEvent:function(t){var i=this.__getEventListener(t);this["on"+t]&&this["on"+t]();for(var e=0;e<i.length;e++)i[e].call(this)},__focus:function(t){try{this.autofocus&&!/^iframe$/i.test(t.nodeName)&&t.focus()}catch(i){}},__getActive:function(){try{var t=document.activeElement,i=t.contentDocument,e=i&&i.activeElement||t;return e}catch(a){}},__center:function(){var t=this.__popup,i=$(window),e=$(document),a=this.fixed,n=a?0:e.scrollLeft(),s=a?0:e.scrollTop(),o=i.width(),r=i.innerHeight(),l=t.width(),c=t.height(),d=(o-l)/2,h=(r-c)/2,p=t[0].style;p.left=Math.max(parseInt(d),n)+"px",p.top=Math.max(parseInt(h),s)+"px"},__follow:function(t){var i=t.parentNode&&$(t),e=this.__popup;if(this.__followSkin&&e.removeClass(this.__followSkin),i){var a=i.offset();if(a.left*a.top<0)return this.__center()}var n=this,s=this.fixed,o=$(window),r=$(document),l=o.width(),c=o.height(),d=r.scrollLeft(),h=r.scrollTop(),p=e.width(),u=e.height(),m=i?i.outerWidth():0,f=i?i.outerHeight():0,g=this.__offset(t),_=g.left,v=g.top,b=s?_-d:_,y=s?v-h:v,w=s?0:d,x=s?0:h,k=w+l-p,N=x+c-u,j={},C=this.align.split(" "),T=this.className+"-",J={top:"bottom",bottom:"top",left:"right",right:"left"},P={top:"top",bottom:"top",left:"left",right:"left"},L=[{top:y-u,bottom:y+f,left:b-p,right:b+m},{top:y,bottom:y-u+f,left:b,right:b-p+m}],I={left:b+m/2-p/2,top:y+f/2-u/2},E={left:[w,k],top:[x,N]};$.each(C,function(t,i){L[t][i]>E[P[i]][1]&&(i=C[t]=J[i]),L[t][i]<E[P[i]][0]&&(C[t]=J[i])}),C[1]||(P[C[1]]="left"===P[C[0]]?"top":"left",L[1][C[1]]=I[P[C[1]]]),T+=C.join("-")+" "+this.className+"-follow",n.__followSkin=T,i&&e.addClass(T),j[P[C[0]]]=parseInt(L[0][C[0]]),j[P[C[1]]]=parseInt(L[1][C[1]]),e.css(j)},__offset:function(t){var i=t.parentNode,e=i?$(t).offset():{left:t.pageX,top:t.pageY};t=i?t:t.target;var a=t.ownerDocument,n=a.defaultView||a.parentWindow;if(n==window)return e;var s=n.frameElement,o=$(a),r=o.scrollLeft(),l=o.scrollTop(),c=$(s).offset(),d=c.left,h=c.top;return{left:e.left+d-r,top:e.top+h-l}}}),a.zIndex=1024,a.current=null,a}),define("lib/components/dialog/1.0.0/dialog-config",[],{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,okClassName:"ui-btns-ok",cancel:null,cancelClassName:"ui-btns-cancel",okValue:"ok",cancelValue:"cancel",cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><span i="close" class="ui-dialog-close">&#215;</span><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="button" class="ui-dialog-button"></div></td></tr><tr><td i="footerSub" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div></td></tr></table></div>'}),define("lib/components/rotate/2.3.0/rotate",[],function(require,exports,module){!function(k){for(var d,f,l=document.getElementsByTagName("head")[0].style,h=["transformProperty","WebkitTransform","OTransform","msTransform","MozTransform"],g=0;g<h.length;g++)void 0!==l[h[g]]&&(d=h[g]);d&&(f=d.replace(/[tT]ransform/,"TransformOrigin"),"T"==f[0]&&(f[0]="t")),eval('IE = "v"=="\x0B"'),jQuery.fn.extend({rotate:function(t){if(0!==this.length&&"undefined"!=typeof t){"number"==typeof t&&(t={angle:t});for(var i=[],e=0,a=this.length;a>e;e++){var n=this.get(e);if(n.Wilq32&&n.Wilq32.PhotoEffect)n.Wilq32.PhotoEffect._handleRotation(t);else{var s=k.extend(!0,{},t),n=new Wilq32.PhotoEffect(n,s)._rootObj;i.push(k(n))}}return i}},getRotateAngle:function(){for(var t=[],i=0,e=this.length;e>i;i++){var a=this.get(i);a.Wilq32&&a.Wilq32.PhotoEffect&&(t[i]=a.Wilq32.PhotoEffect._angle)}return t},stopRotate:function(){for(var t=0,i=this.length;i>t;t++){var e=this.get(t);e.Wilq32&&e.Wilq32.PhotoEffect&&clearTimeout(e.Wilq32.PhotoEffect._timer)}}}),Wilq32=window.Wilq32||{},Wilq32.PhotoEffect=function(){return d?function(t,i){t.Wilq32={PhotoEffect:this},this._img=this._rootObj=this._eventObj=t,this._handleRotation(i)}:function(t,i){if(this._img=t,this._onLoadDelegate=[i],this._rootObj=document.createElement("span"),this._rootObj.style.display="inline-block",this._rootObj.Wilq32={PhotoEffect:this},t.parentNode.insertBefore(this._rootObj,t),t.complete)this._Loader();else{var e=this;jQuery(this._img).bind("load",function(){e._Loader()})}}}(),Wilq32.PhotoEffect.prototype={_setupParameters:function(t){this._parameters=this._parameters||{},"number"!=typeof this._angle&&(this._angle=0),"number"==typeof t.angle&&(this._angle=t.angle),this._parameters.animateTo="number"==typeof t.animateTo?t.animateTo:this._angle,this._parameters.step=t.step||this._parameters.step||null,this._parameters.easing=t.easing||this._parameters.easing||this._defaultEasing,this._parameters.duration=t.duration||this._parameters.duration||1e3,this._parameters.callback=t.callback||this._parameters.callback||this._emptyFunction,this._parameters.center=t.center||this._parameters.center||["50%","50%"],this._rotationCenterX="string"==typeof this._parameters.center[0]?parseInt(this._parameters.center[0],10)/100*this._imgWidth*this._aspectW:this._parameters.center[0],this._rotationCenterY="string"==typeof this._parameters.center[1]?parseInt(this._parameters.center[1],10)/100*this._imgHeight*this._aspectH:this._parameters.center[1],t.bind&&t.bind!=this._parameters.bind&&this._BindEvents(t.bind)},_emptyFunction:function(){},_defaultEasing:function(t,i,e,a,n){return-a*((i=i/n-1)*i*i*i-1)+e},_handleRotation:function(t,i){d||this._img.complete||i?(this._setupParameters(t),this._angle==this._parameters.animateTo?this._rotate(this._angle):this._animateStart()):this._onLoadDelegate.push(t)},_BindEvents:function(t){if(t&&this._eventObj){if(this._parameters.bind){var i,e=this._parameters.bind;for(i in e)e.hasOwnProperty(i)&&jQuery(this._eventObj).unbind(i,e[i])}this._parameters.bind=t;for(i in t)t.hasOwnProperty(i)&&jQuery(this._eventObj).bind(i,t[i])}},_Loader:function(){return IE?function(){var t=this._img.width,i=this._img.height;for(this._imgWidth=t,this._imgHeight=i,this._img.parentNode.removeChild(this._img),this._vimage=this.createVMLNode("image"),this._vimage.src=this._img.src,this._vimage.style.height=i+"px",this._vimage.style.width=t+"px",this._vimage.style.position="absolute",this._vimage.style.top="0px",this._vimage.style.left="0px",this._aspectW=this._aspectH=1,this._container=this.createVMLNode("group"),this._container.style.width=t,this._container.style.height=i,this._container.style.position="absolute",this._container.style.top="0px",this._container.style.left="0px",this._container.setAttribute("coordsize",t-1+","+(i-1)),this._container.appendChild(this._vimage),this._rootObj.appendChild(this._container),this._rootObj.style.position="relative",this._rootObj.style.width=t+"px",this._rootObj.style.height=i+"px",this._rootObj.setAttribute("id",this._img.getAttribute("id")),this._rootObj.className=this._img.className,this._eventObj=this._rootObj;t=this._onLoadDelegate.shift();)this._handleRotation(t,!0)}:function(){this._rootObj.setAttribute("id",this._img.getAttribute("id")),this._rootObj.className=this._img.className,this._imgWidth=this._img.naturalWidth,this._imgHeight=this._img.naturalHeight;var t=Math.sqrt(this._imgHeight*this._imgHeight+this._imgWidth*this._imgWidth);for(this._width=3*t,this._height=3*t,this._aspectW=this._img.offsetWidth/this._img.naturalWidth,this._aspectH=this._img.offsetHeight/this._img.naturalHeight,this._img.parentNode.removeChild(this._img),this._canvas=document.createElement("canvas"),this._canvas.setAttribute("width",this._width),this._canvas.style.position="relative",this._canvas.style.left=-this._img.height*this._aspectW+"px",this._canvas.style.top=-this._img.width*this._aspectH+"px",this._canvas.Wilq32=this._rootObj.Wilq32,this._rootObj.appendChild(this._canvas),this._rootObj.style.width=this._img.width*this._aspectW+"px",this._rootObj.style.height=this._img.height*this._aspectH+"px",this._eventObj=this._canvas,this._cnv=this._canvas.getContext("2d");t=this._onLoadDelegate.shift();)this._handleRotation(t,!0)}}(),_animateStart:function(){this._timer&&clearTimeout(this._timer),this._animateStartTime=+new Date,this._animateStartAngle=this._angle,this._animate()},_animate:function(){var t=+new Date,i=t-this._animateStartTime>this._parameters.duration;if(i&&!this._parameters.animatedGif)clearTimeout(this._timer);else{(this._canvas||this._vimage||this._img)&&(t=this._parameters.easing(0,t-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration),this._rotate(~~(10*t)/10)),this._parameters.step&&this._parameters.step(this._angle);var e=this;this._timer=setTimeout(function(){e._animate.call(e)},10)}this._parameters.callback&&i&&(this._angle=this._parameters.animateTo,this._rotate(this._angle),this._parameters.callback.call(this._rootObj))},_rotate:function(){var t=Math.PI/180;return IE?function(t){this._angle=t,this._container.style.rotation=t%360+"deg",this._vimage.style.top=-(this._rotationCenterY-this._imgHeight/2)+"px",this._vimage.style.left=-(this._rotationCenterX-this._imgWidth/2)+"px",this._container.style.top=this._rotationCenterY-this._imgHeight/2+"px",this._container.style.left=this._rotationCenterX-this._imgWidth/2+"px"}:d?function(t){this._angle=t,this._img.style[d]="rotate("+t%360+"deg)",this._img.style[f]=this._parameters.center.join(" ")}:function(i){this._angle=i,i=i%360*t,this._canvas.width=this._width,this._canvas.height=this._height,this._cnv.translate(this._imgWidth*this._aspectW,this._imgHeight*this._aspectH),this._cnv.translate(this._rotationCenterX,this._rotationCenterY),this._cnv.rotate(i),this._cnv.translate(-this._rotationCenterX,-this._rotationCenterY),this._cnv.scale(this._aspectW,this._aspectH),this._cnv.drawImage(this._img,0,0)}}()},IE&&(Wilq32.PhotoEffect.prototype.createVMLNode=function(){document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{return!document.namespaces.rvml&&document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<rvml:"+t+' class="rvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}())}(jQuery)}),define("lib/components/minBar/1.0.1/minBar",[],function(t,i,e){function a(t){function i(){e(S),_(),f("#J_minBarPlugin"),n($(window).innerWidth()),$(window).resize(function(){n($(window).innerWidth())}),W.each(function(t){var i=$(this);i.on("mouseover",function(t){i.find("span.text").stop(!0,!0).delay(300).animate({right:"40px",opacity:1},300)}).on("mouseleave",function(t){i.find("span.text").stop(!0,!0).animate({right:"-80px",opacity:.1},300)}).on("click",function(t){var e=i.find("a.blankLink").attr("href");try{(e.indexOf("http")>-1||e.indexOf("https")>-1)&&window.open(e)}catch(a){}})}),T.hover(function(){$("#J_minBarPlugin").stop(!0,!0).fadeIn(300),c()},function(){$("#J_minBarPlugin").stop(!0,!0).hide()}),N.on("mouseenter",function(t){$(this).find(".min-bar-wechat-img").stop(!0,!0).css({display:"block"}).delay(200).animate({width:"140px",height:"164px",padding:"5px",top:"-40px",opacity:1},300)}).on("mouseleave",function(t){$(this).find(".min-bar-wechat-img").stop(!0,!0).css({display:"none"}).animate({width:"36px",height:"36px",opacity:0},300)}),j.on("mouseenter",function(t){$(this).find(".min-bar-phone-img").stop(!0,!0).css({display:"block"}).delay(200).animate({width:"160px",height:"250px",top:"-80px",opacity:1},300)}).on("mouseleave",function(t){$(this).find(".min-bar-phone-img").stop(!0,!0).css({display:"none"}).animate({width:"36px",height:"36px",opacity:0},300)}),k.on("click",function(t){$("body,html").stop(!0,!0).animate({scrollTop:0},300)}),E.on("click",function(t){t.preventDefault(),I.fadeOut(300),clearTimeout(Q),O?q||(q=!0,e(H)):(O=!0,e(A))}),P.hover(function(){I.stop(!0,!0).fadeIn(300),clearTimeout(Q),O?q||(q=!0,e(H)):(O=!0,e(A))},function(){I.stop(!0,!0).fadeOut(300),clearTimeout(Q),O?q||(q=!0,e(H)):(O=!0,e(A))}),B.on("click",function(t){I.fadeOut(300),clearTimeout(Q),O?q||(q=!0,e(H)):(O=!0,e(A))}),$(document).on("click",".JQ_minBarDelete",function(t){t.preventDefault();var i=$(this).attr("data-id"),e=$(this).parents("li");$.ajax({url:cdnConfig.cartApiPath+"/delete/"+i,dataType:"jsonp",success:function(t){"succ"==t.status?(e.addClass("delItem"),e.fadeOut(300,function(){$(".delItem").remove(),d(),f("#J_minBarPlugin")})):(d(),f("#J_minBarPlugin"))}})})}function e(t){setTimeout(function(){I.fadeIn(200),a(5e3)},t)}function a(t){t=isNaN(t)?5e3:t,Q=setTimeout(function(){I.fadeOut(200),O?q||(q=!0,e(H)):(O=!0,e(A))},t)}function n(t){isNaN(t)?t=$(window).innerWidth():t,D>t?(r(),o(),T.on("mouseenter",function(t){t.stopPropagation(),s(),l()}),P.on("mouseenter",function(t){t.stopPropagation(),s(),l()}),J.on("mouseenter",function(t){t.stopPropagation(),s(),l()}),k.on("mouseenter",function(t){t.stopPropagation(),s(),l()}),x.on("mouseleave",function(t){t.stopPropagation(),t.preventDefault(),o(),r()})):(l(),s())}function s(){L.stop(!0,!0).delay(300).animate({right:"0px"},300)}function o(){L.stop(!0,!0).delay(300).animate({right:"-40px"},300)}function r(){j.stop(!0,!0).animate({right:"-40px"}),N.stop(!0,!0).animate({right:"-40px"}),C.stop(!0,!0).animate({right:"-40px"})}function l(){j.stop(!0,!0).delay(300).animate({right:"0px"}),N.stop(!0,!0).delay(300).animate({right:"0px"}),C.stop(!0,!0).delay(300).animate({right:"0px"})}function c(){$.ajax({url:cdnConfig.apiPath+"/cart/minilist",dataType:"jsonp",success:function(t){var i="";if("200"==t.code){var e=t.data.list;if(e.length>0)for(var a=0;a<e.length;a++)i+="<li>",i+='<div class="plugin-cart-list-img">',i+='<a href="'+e[a].link+'" target="_blank">',i+='<img src="'+e[a].src+'" width="90" height="60" alt="'+e[a].title+'"/>',i+="</a>",i+="</div>",i+='<div class="plugin-cart-list-title">',i+='<a href="'+e[a].link+'" target="_blank" title="'+e[a].title+'">'+e[a].title+"</a>",i+="</div>",i+='<div class="plugin-cart-list-info">',i+='<p class="list-price">&yen; <span class="JQ_minCartItemPrice">'+e[a].price+"</span></p>",i+='<p class="list-num">x <span class="JQ_minCartItemNum">'+e[a].num+"</span></p>",i+='<input type="hidden" class="JQ_minCartItemTotal" value="'+e[a].price*e[a].num+'" />',i+="</div>",i+='<a class="cart-list-delete-btn JQ_minBarDelete" data-id="'+e[a].cart_id+'" href="javascript:void(0);" target="_blank">x</a>',i+="</li>",g(i,"no")}else i="<li>您的购物车空空的~</li>",g(i,"yes");d(),f("#J_minBarPlugin")},error:function(t){}})}function d(){m(".JQ_minCartItemTotal","#J_minBarCartTotal"),u(".JQ_minCartItemNum","#J_minBarCartNum"),p("#J_minBarBtn","#J_minBarCartNum")}function h(t,i){$(t).html(i)}function p(t,i){var e="http://cart.kinhom.com/list.html",a=$(i),n=$(t);parseInt(a.html())>0?n.removeClass("btn-gray").addClass("btn-orange").attr("href",e):n.removeClass("btn-orange").addClass("btn-gray").attr("href","javascript:void(0);")}function u(t,i){var e=$(i),a=0;if($(t).length>0)$(t).each(function(){a+=parseInt($(this).html())});else{var n="<li>您的购物车空空的~</li>";g(n,"yes"),p("#J_minBarBtn","#J_minBarCartNum")}e.html(a),h("#J_cartNum",a)}function m(t,i){var e=$(i),a=0;$(t).length>0?($(t).each(function(){a+=parseInt($(this).val())}),e.html(a)):e.html(0)}function f(t){var i=$(t),e=i.innerHeight();i.css({top:"50%","margin-top":"-"+parseInt(e/2)+"px"})}function g(t,i){switch(i){case"yes":$("#J_pluginCart").addClass("plugin-cart-empty").removeClass("plugin-cart-list").html(t);break;case"no":$("#J_pluginCart").removeClass("plugin-cart-empty").addClass("plugin-cart-list").html(t)}}function _(){$.ajax({url:cdnConfig.apiPath+"/cart/statistics",dataType:"jsonp",success:function(t){"succ"==t.status?h("#J_cartNum",t.data.num):h("#J_cartNum",0)},error:function(t){}})}var v=t.mainCell||"#J_minBar",b=t.tpl||function(){},y=t.tplName||"comment/tplMinBar",w=t.data||{};$("body").append(b(y,w));var x=v.indexOf("#")>-1?$(v):$("#"+v),k=x.find(".min-bar-gtop"),N=x.find(".min-wechat"),j=x.find(".min-phone"),C=x.find(".min-bar-feedback"),T=x.find(".min-cart"),J=x.find(".min-bar-qq"),P=x.find(".min-bar-online"),L=$(".min-bar-mark"),I=$(".min-bar-online-pop"),E=$(".pop-close"),B=$(".pop-chat"),D=1280,W=x.find(".min-text"),O=!1,q=!1,S="30000",A="180000",H="180000";i();var Q}e.exports=a});