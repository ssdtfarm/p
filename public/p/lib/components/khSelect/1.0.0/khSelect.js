define(function(require,exports,module){function khSelect(config){function hideOther(obj){var ID=obj.attr("id");$(".select-gray").each(function(index){$(this).attr("id")!=ID&&$(this).find("ul").slideUp()})}var config=config||{},mainCell=config.mainCell||"",callback=config.callback||null,mainObj="string"==typeof mainCell?mainCell.indexOf("#")>-1?$(mainCell):$("#"+mainCell):mainCell,listObj=mainObj.find("ul"),mainLabel=mainObj.find(".JQ_option"),selectBtn=mainObj.find(".JQ_selectBtn"),option=listObj.find("a"),inputObj=mainObj.find("input");ulObj=mainObj.children("ul"),mainObj.css({display:"inline-block","min-width":parseInt(mainLabel.width()+30)+"px"}),ulObj.height()>200?ulObj.css({"overflow-y":"scroll",height:"200px","min-width":parseInt(mainLabel.width()+28)+"px"}):ulObj.css({"min-width":parseInt(mainLabel.width()+28)+"px"}),mainLabel.on("click",function(event){listObj.slideToggle(),event.stopPropagation(),hideOther(mainObj)}),selectBtn.on("click",function(event){listObj.slideToggle(),event.stopPropagation(),hideOther(mainObj)}),option.on("click",function(event){listObj.slideUp(),mainLabel.html($(this).html()),inputObj.length>0&&inputObj.val($(this).attr("data-value")),"function"==typeof callback?callback($(this).attr("data-value"),$(this).html(),$(this)):"",event.stopPropagation()}),$(document).on("click","body",function(event){listObj.slideUp(),event.stopPropagation()})}module.exports=khSelect});